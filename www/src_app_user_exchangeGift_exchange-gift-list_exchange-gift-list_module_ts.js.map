{"version":3,"file":"src_app_user_exchangeGift_exchange-gift-list_exchange-gift-list_module_ts.js","mappings":"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","sources":["./src/app/user/exchangeGift/exchange-gift-list/exchange-gift-list-routing.module.ts","./src/app/user/exchangeGift/exchange-gift-list/exchange-gift-list.module.ts","./src/app/user/exchangeGift/exchange-gift-list/exchange-gift-list.page.ts","./src/app/user/exchangeGift/exchange-gift-list/exchange-gift-list.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ExchangeGiftListPage } from './exchange-gift-list.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ExchangeGiftListPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ExchangeGiftListPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ExchangeGiftListPageRoutingModule } from './exchange-gift-list-routing.module';\r\n\r\nimport { ExchangeGiftListPage } from './exchange-gift-list.page';\r\nimport { UtilService } from '../../../services/util.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ExchangeGiftListPageRoutingModule\r\n  ],\r\n  declarations: [ExchangeGiftListPage],\r\n  providers: []\r\n})\r\nexport class ExchangeGiftListPageModule {}\r\n","import { ExchangeGift } from 'src/app/models/ExchangeGift';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ExchangeGiftService } from '../../../services/exchange-gift.service';\r\nimport { AlertController, IonInfiniteScroll, Platform, ModalController, IonSearchbar, IonSelect } from '@ionic/angular';\r\nimport { UtilService } from 'src/app/services/util.service';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { ExchangeGiftSawPage } from '../exchange-gift-saw/exchange-gift-saw.page';\r\nimport { AgencyService } from '../../../services/agency.service';\r\n\r\n@Component({\r\n  selector: 'app-exchange-gift-list',\r\n  templateUrl: './exchange-gift-list.page.html',\r\n  styleUrls: ['./exchange-gift-list.page.scss'],\r\n})\r\nexport class ExchangeGiftListPage implements OnInit {\r\n  @ViewChild(IonInfiniteScroll) infinite: IonInfiniteScroll;\r\n  @ViewChild(IonSelect) select: IonSelect;\r\n  @ViewChild(IonSearchbar) sb: IonSearchbar;\r\n\r\n  oldInfinite: boolean;\r\n\r\n  public exchanges: ExchangeGift[] = [];\r\n  oldExchanges: ExchangeGift[] = [];\r\n\r\n  searchStr = \"\";\r\n  niTems: number;\r\n\r\n\r\n  filter: string;\r\n\r\n  constructor(\r\n    private exs: ExchangeGiftService,\r\n    private AlertCtrl: AlertController,\r\n    private pt: Platform,\r\n    private uts: UtilService,\r\n    private authS: AuthService,\r\n    private modalCtrl: ModalController,\r\n    private as:AgencyService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    this.niTems = Math.ceil(this.pt.height() / 20 + 10);\r\n    \r\n    if(this.as.added){\r\n\r\n      this.reset(null);\r\n      this.as.added=false;\r\n    }\r\n    else{\r\n\r\n      await this.loadExchanges();\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  async loadExchanges(event?) {\r\n    let newExchanges: ExchangeGift[] = [];\r\n\r\n    if (this.exchanges.length == 0) { //inicio\r\n\r\n      await this.uts.presentLoading();\r\n\r\n      //this.infinite.disabled=false;\r\n      \r\n      newExchanges = await this.exs.getByAgencyPaged(this.authS.agency, this.niTems, 0);\r\n      //newExchanges=await this.exs.getAll();\r\n      this.exchanges = this.exchanges.concat(newExchanges);\r\n      this.exchanges = this.sortList(this.exchanges);\r\n      this.oldExchanges = [];\r\n      this.oldExchanges = this.oldExchanges.concat(newExchanges);\r\n\r\n    }\r\n\r\n    if (newExchanges.length < this.niTems) {\r\n      this.infinite.disabled = true;\r\n      this.oldInfinite = true;\r\n    }\r\n\r\n    if (event) {\r\n      event.target.complete();\r\n    }\r\n    else {\r\n\r\n    }\r\n    await this.uts.hideLoading();\r\n  }\r\n\r\n  public async infiniteLoad($event) {\r\n    let newExchanges: ExchangeGift[] = [];\r\n    if (!this.infinite.disabled) {\r\n      newExchanges = await this.exs.getByAgencyPaged(this.authS.agency, this.niTems, this.exchanges.length);\r\n      newExchanges = this.sortList(newExchanges);\r\n      this.exchanges = this.exchanges.concat(newExchanges);\r\n      this.oldExchanges = this.oldExchanges.concat(newExchanges);\r\n\r\n      if (newExchanges.length < 30) {\r\n        this.infinite.disabled = true;\r\n        this.oldInfinite = true;\r\n      }\r\n    }\r\n    this.infinite.complete();\r\n  }\r\n\r\n  public async reset(event) {\r\n    this.infinite.disabled = false;\r\n    this.oldInfinite = false;\r\n    this.exchanges = [];\r\n    this.oldExchanges = [];\r\n    this.loadExchanges(event);\r\n  }\r\n\r\n  async searchChange() {\r\n\r\n    try {\r\n\r\n      this.searchStr = this.sb.value;\r\n      let regex: RegExp = new RegExp(\"^[ ]\");\r\n\r\n      if (!this.searchStr.match(regex)) {\r\n\r\n        \r\n        let resultFilter: ExchangeGift[] = [];\r\n        let listS: ExchangeGift[] = [];\r\n        let selectO = this.select.value;\r\n\r\n        let list: ExchangeGift[] = [];\r\n        this.exchanges = [];\r\n\r\n\r\n        let lenght = this.searchStr.length;\r\n\r\n        if (lenght > 0) {\r\n\r\n          //consultar y cambiar lista\r\n          await this.uts.presentLoading();\r\n\r\n          //date\r\n          list = await this.exs.getByDateFilter(this.searchStr);\r\n          list.forEach((e: ExchangeGift) => {\r\n            if (!resultFilter.includes(e)) {\r\n\r\n              if (e.agency.id == this.authS.agency.id) {\r\n                resultFilter.push(e);\r\n              }\r\n            }\r\n          })\r\n\r\n          //points\r\n          if (+this.searchStr >= 0) {\r\n            list = await this.exs.getByPoints(this.searchStr);\r\n            list.forEach((e: ExchangeGift) => {\r\n              if (!resultFilter.includes(e)) {\r\n\r\n                if (e.agency.id == this.authS.agency.id) {\r\n                  resultFilter.push(e);\r\n                }\r\n              }\r\n            })\r\n          }\r\n\r\n          //gift-name\r\n          list = await this.exs.getByGiftName(this.searchStr);\r\n          list.forEach((e: ExchangeGift) => {\r\n            let result: boolean = true;\r\n            resultFilter.forEach((x: ExchangeGift) => {\r\n              if (x.id = e.id) result = false;\r\n            })\r\n            if (result && e.agency.id == this.authS.agency.id) resultFilter.push(e);\r\n          })\r\n\r\n          //agency-user-name\r\n          list = await this.exs.getByAgencyUsername(this.searchStr);\r\n          list.forEach((e: ExchangeGift) => {\r\n            if (!resultFilter.includes(e)) {\r\n\r\n              if (e.agency.id == this.authS.agency.id) {\r\n                resultFilter.push(e);\r\n              }\r\n            }\r\n          })\r\n\r\n          if (selectO == \"true\") {\r\n            resultFilter.forEach((e: ExchangeGift) => {\r\n              if (e.delivered) listS.push(e);\r\n            })\r\n            this.exchanges = listS;\r\n          }\r\n\r\n          else if (selectO == \"false\") {\r\n            resultFilter.forEach((e: ExchangeGift) => {\r\n              if (!e.delivered) listS.push(e);\r\n            })\r\n            this.exchanges = listS;\r\n          }\r\n\r\n          else {\r\n            this.exchanges = resultFilter;\r\n          }\r\n\r\n          this.infinite.disabled = true\r\n          await this.uts.hideLoading();\r\n        }\r\n        else if (lenght < 1) {\r\n\r\n          await this.uts.presentLoading();\r\n\r\n          if (selectO == \"true\") {\r\n            resultFilter = await this.exs.getByDeliveredPaged(true, 9999, 0);\r\n            resultFilter.forEach((e: ExchangeGift) => {\r\n              if (e.delivered && e.agency.id == this.authS.agency.id) listS.push(e);\r\n            })\r\n            this.exchanges = listS;\r\n            this.infinite.disabled = true;\r\n          }\r\n\r\n          else if (selectO == \"false\") {\r\n            resultFilter = await this.exs.getByDeliveredPaged(false, 9999, 0);\r\n            resultFilter.forEach((e: ExchangeGift) => {\r\n              if (!e.delivered && e.agency.id == this.authS.agency.id) listS.push(e);\r\n            })\r\n            this.exchanges = listS;\r\n            this.infinite.disabled = true;\r\n          }\r\n\r\n          else {\r\n            this.exchanges = this.oldExchanges;\r\n            this.infinite.disabled = this.oldInfinite;\r\n          }\r\n\r\n\r\n          await this.uts.hideLoading();\r\n        }\r\n\r\n        this.exchanges = this.sortList(this.exchanges);\r\n\r\n      }\r\n      else {\r\n        this.uts.presentToast(\"La búsqueda no puede comenzar por espacios en blanco.\",\"danger\",\"ban\");\r\n      }\r\n\r\n\r\n\r\n\r\n    } catch (error) {\r\n      this.uts.presentToast(\"Ha habido un error en su búsqueda. Inténtelo más tarde.\", \"danger\", \"ban\");\r\n      this.uts.hideLoading();\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  public async show(exchangesaw: ExchangeGift) {\r\n    try {\r\n      const modal = await this.modalCtrl.create({\r\n        component: ExchangeGiftSawPage,\r\n        componentProps: {\r\n          'exchangesaw': exchangesaw\r\n        }\r\n      });\r\n\r\n      await modal.present();\r\n\r\n      const resp = await modal.onDidDismiss();\r\n\r\n      if (resp.data != null) {\r\n\r\n        let i: number = this.exchanges.indexOf(exchangesaw);\r\n        let i2: number = this.oldExchanges.indexOf(exchangesaw);\r\n\r\n        await this.uts.presentLoading();\r\n        this.exchanges.splice(i, 1);\r\n        this.oldExchanges.splice(i2, 1);\r\n        await this.uts.hideLoading();\r\n\r\n      }\r\n\r\n    } catch (error) {\r\n      \r\n    }\r\n\r\n  }\r\n\r\n  private sortList(eg: ExchangeGift[]): ExchangeGift[] {\r\n    if (eg != null && eg.length > 1) {\r\n      eg = eg.sort((n1, n2) => {\r\n        if (n1.dateExchange > n2.dateExchange) {\r\n          return 1;\r\n        }\r\n\r\n        else if (n1.dateExchange < n2.dateExchange) {\r\n          return -1;\r\n        }\r\n\r\n        else {\r\n          if (n1.id > n2.id) {\r\n            return 1;\r\n          }\r\n\r\n          else if (n1.id < n2.id) {\r\n            return -1;\r\n          }\r\n        }\r\n        return 0;\r\n      });\r\n    }\r\n\r\n    return eg;\r\n  }\r\n\r\n  public logout() {\r\n    this.authS.logout();\r\n  }\r\n}\r\n","export default \"<ion-header [translucent]=\\\"false\\\">\\r\\n\\r\\n  <ion-toolbar color=\\\"medium\\\">\\r\\n\\r\\n    <ion-title>Lista de Canjees</ion-title>\\r\\n\\r\\n    <ion-buttons style=\\\"margin-right: 1%;cursor:pointer;\\\" slot=\\\"end\\\" title=\\\"Cerrar Sesión\\\" (click)=\\\"this.logout()\\\">\\r\\n      <ion-icon slot=\\\"end\\\" name=\\\"log-out-outline\\\" style=\\\"color: rgb(255, 255, 255);zoom:1.7;cursor:pointer\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar color=\\\"medium\\\">\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"9\\\">\\r\\n        <ion-searchbar  placeholder=\\\"Encuentra el canjeo que estás buscando...\\\" inputmode=\\\"text\\\" type=\\\"text\\\"\\r\\n        debounce=\\\"1000\\\" (ionChange)=\\\"this.searchChange()\\\" showCancelButton=\\\"always\\\"></ion-searchbar>\\r\\n      </ion-col>\\r\\n      <ion-col sizeSm=\\\"3\\\" sizeLg=\\\"3\\\" class=\\\"selector\\\">\\r\\n        <ion-item style=\\\"height: 85%; margin-top:1.1%\\\">\\r\\n          <ion-label>Entregado:</ion-label>\\r\\n          <ion-select (ionChange)=\\\"this.searchChange()\\\" interface=\\\"popover\\\" multiple=\\\"false\\\">\\r\\n            <ion-select-option value=\\\"true\\\">Si</ion-select-option>\\r\\n            <ion-select-option value=\\\"false\\\">No</ion-select-option>\\r\\n            <ion-select-option value=\\\"all\\\">Todos</ion-select-option>\\r\\n\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n    </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row class=\\\"header-row\\\">\\r\\n\\r\\n      <ion-col size=\\\"1\\\" style=\\\"border: 0px !important;\\\">\\r\\n      </ion-col>\\r\\n\\r\\n      <ion-col size=\\\"4\\\" style=\\\"border: 0px !important;\\\">\\r\\n        <ion-text>Regalo</ion-text>\\r\\n      </ion-col>\\r\\n\\r\\n      <ion-col  size=\\\"3\\\" style=\\\"border: 0px !important;\\\">\\r\\n        <ion-text>Puntos</ion-text>\\r\\n      </ion-col>\\r\\n\\r\\n      <ion-col size=\\\"4\\\" style=\\\"border: 0px !important;\\\">\\r\\n        <ion-text>Fecha del pedido</ion-text>\\r\\n      </ion-col>\\r\\n\\r\\n    </ion-row>\\r\\n\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content >\\r\\n\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"reset($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n\\r\\n  <div class=\\\"body\\\">\\r\\n\\r\\n\\r\\n  <ion-grid class=\\\"ion-text-center\\\" *ngIf=\\\"this.exchanges.length> 0\\\">\\r\\n\\r\\n  <ion-row (click)=\\\"show(exchange)\\\" let   *ngFor=\\\"let exchange of this.exchanges;let i=index\\\" class=\\\"row\\\">\\r\\n\\r\\n      <ion-col  size=\\\"1\\\">\\r\\n        <div title=\\\"Entregado\\\">\\r\\n          <ion-icon class=\\\"icon-c\\\" style=\\\"color:blueviolet\\\" *ngIf=\\\"exchange.delivered\\\" name=\\\"gift\\\"></ion-icon>\\r\\n        </div>\\r\\n      </ion-col>\\r\\n\\r\\n      <ion-col ize=\\\"4\\\" >\\r\\n\\r\\n\\r\\n        <ion-text class=\\\"pointer\\\">\\r\\n            {{exchange.gift.name}}\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n\\r\\n        <ion-col  size=\\\"3\\\">\\r\\n          <ion-text class=\\\"pointer\\\">\\r\\n            {{exchange.gift.points}}\\r\\n          </ion-text>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"4\\\">\\r\\n          <ion-text class=\\\"pointer\\\">\\r\\n            {{exchange.dateExchange}}\\r\\n          </ion-text>\\r\\n\\r\\n        </ion-col>\\r\\n\\r\\n\\r\\n\\r\\n    </ion-row>\\r\\n\\r\\n  </ion-grid>\\r\\n\\r\\n\\r\\n\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"infiniteLoad($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</div>\\r\\n\\r\\n</ion-content>\\r\\n\";"],"names":[],"sourceRoot":"webpack:///"}