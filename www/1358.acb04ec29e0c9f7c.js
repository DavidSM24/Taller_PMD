"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1358],{1358:(f,u,t)=>{t.r(u),t.d(u,{CarRepairUpdatePageModule:()=>R});var m=t(6019),i=t(9010),r=t(2651),g=t(8725),Z=t(5744),e=t(865);const _=[{path:"",component:Z.K}];let h=(()=>{class o{}return o.\u0275fac=function(d){return new(d||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(_)],g.Bz]}),o})(),R=(()=>{class o{}return o.\u0275fac=function(d){return new(d||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.ez,i.u5,r.Pc,h,i.u5,i.UX]]}),o})()},5744:(f,u,t)=>{t.d(u,{K:()=>C});var m=t(4762),i=t(9010),r=t(2651),g=t(5764),Z=t(6092),e=t(865),_=t(7928),h=t(371),R=t(1249),o=t(6019);function l(c,p){if(1&c){const a=e.EpF();e.TgZ(0,"ion-datetime",32,33),e.NdJ("ionChange",function(){e.CHM(a);const s=e.MAs(1);return e.oxw().changeDateRepair(s.value)}),e.TgZ(2,"ion-buttons",34),e.TgZ(3,"ion-button",35),e.NdJ("click",function(){return e.CHM(a),e.oxw().confirm()}),e._uU(4,"Aceptar"),e.qZA(),e.TgZ(5,"ion-button",35),e.NdJ("click",function(){return e.CHM(a),e.oxw().reset()}),e._uU(6,"Cancelar"),e.qZA(),e.qZA(),e.qZA()}if(2&c){const a=e.oxw();e.Q6J("value",a.stringDateOrder)}}function d(c,p){1&c&&e._UZ(0,"ion-icon",36)}function A(c,p){1&c&&e._UZ(0,"ion-icon",37)}let C=(()=>{class c{constructor(a,n,s,T,U){this.modalController=a,this.carRepairService=n,this.formBuilder=s,this.uts=T,this.dateTimeService=U,this.dateValue=""}ngOnInit(){this.carRepair.dateOrder&&(this.spanishDateOrder=this.dateTimeService.formatSpanishDateString(""+this.carRepair.dateOrder),this.formatedString=this.dateTimeService.formatString(""+this.carRepair.dateOrder),console.log(this.stringDateOrder)),this.carRepair.dateRepair&&(this.spanishDateRepair=this.dateTimeService.formatSpanishDateString(""+this.carRepair.dateRepair)),this.formCarRepair=this.formBuilder.group({operation:[this.carRepair.operation],carPlate:[this.carRepair.carPlate,[i.kI.required]],model:[this.carRepair.model,[i.kI.required]],brandCar:[this.carRepair.brandCar,[i.kI.required]],clienteName:[this.carRepair.clienteName,[i.kI.required]],nor:[this.carRepair.nor],amount:[this.carRepair.amount],asigPoints:[this.carRepair.asigPoints],myAgency:[this.carRepair.myAgency.myUser.name],dateOrder:[this.carRepair.dateOrder,[i.kI.required]],spanishDateRepair:[this.spanishDateRepair],dateRepair:[this.carRepair.dateRepair],repaired:[this.carRepair.repaired,[i.kI.required]]})}editCarRepair(){return(0,m.mG)(this,void 0,void 0,function*(){this.newCarRepair={id:this.carRepair.id,operation:this.carRepair.operation,carPlate:this.formCarRepair.get("carPlate").value,model:this.formCarRepair.get("model").value,brandCar:this.formCarRepair.get("brandCar").value,clienteName:this.formCarRepair.get("clienteName").value,dateOrder:this.formatedString,nor:this.carRepair.nor,amount:this.carRepair.amount,dateRepair:this.carRepair.dateRepair,asigPoints:this.carRepair.asigPoints,repaired:this.carRepair.repaired,myAgency:this.carRepair.myAgency},console.log(this.newCarRepair);try{this.newCarRepair=yield this.carRepairService.createOrUpdate(this.newCarRepair),this.uts.presentToast("Se ha gurdadado correctamente","success","checkmark-circle-outline"),this.modalController.dismiss({newCarRepair:this.newCarRepair})}catch(a){this.uts.presentToast("Fallo al guradar","danger","ban"),console.log(a)}})}closeModal(){this.modalController.dismiss()}confirm(){this.datetime.confirm(!0)}reset(){this.datetime.cancel(!0)}changeDateRepair(a){this.spanishDateOrder=this.dateTimeService.formatSpanishDateString(a),this.stringDateOrder=this.dateTimeService.formatString(a),this.dateValue=a,this.formatedString=this.formatDate(this.dateValue)}formatDate(a){return(0,g.Z)((0,Z.Z)(a),"yyyy-MM-dd HH:mm:SS")}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(r.IN),e.Y36(_.K),e.Y36(i.qu),e.Y36(h.f),e.Y36(R.Y))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-car-repair-update"]],viewQuery:function(a,n){if(1&a&&e.Gf(r.x4,5),2&a){let s;e.iGM(s=e.CRH())&&(n.datetime=s.first)}},inputs:{carRepair:"carRepair"},decls:90,vars:6,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["sizeSm","3.2","sizeLg","3.2"],["button","true","id","open-date-input"],["slot","end"],["trigger","open-date-input","show-backdrop","false"],["sizeSm","2","sizeLg","2"],["sizeSm","4","sizeLg","4"],["Disabled","","type","text","formControlName","spanishDateRepair",1,"customInput"],["sizeSm","10","sizeLg","10"],["Disabled","","type","number","min","0","max","99999","inputmode","numeric","formControlName","operation",1,"customInput"],["sizeSm","11","sizeLg","10"],["type","text","formControlName","carPlate",1,"customInput"],["sizeSm","5","sizeLg","10"],["type","text","formControlName","model",1,"customInput"],["type","text","formControlName","brandCar",1,"customInput"],["type","text","formControlName","clienteName",1,"customInput"],["Disabled","","type","number","formControlName","nor",1,"customInput"],["Disabled","","type","number","formControlName","amount",1,"customInput"],["Disabled","","type","number","formControlName","asigPoints",1,"customInput"],["Disabled","","type","text","formControlName","myAgency",1,"customInput"],["sizeSm","7","sizeLg","2"],["sizeSm","7","sizeLg","4"],["name","checkmark-circle","style","zoom:1.7;color: #39ff14;",4,"ngIf"],["name","close-circle","style","zoom:1.7;color: red;",4,"ngIf"],["size","6"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"click"],["color","secondary",3,"value","ionChange"],["popoverDatetime",""],["slot","buttons"],["shape","round",1,"button",3,"click"],["name","checkmark-circle",2,"zoom","1.7","color","#39ff14"],["name","close-circle",2,"zoom","1.7","color","red"]],template:function(a,n){1&a&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title"),e._uU(3,"Editar Reparaci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.TgZ(7,"div",5),e.TgZ(8,"ion-grid"),e.TgZ(9,"ion-row",6),e.TgZ(10,"ion-col",7),e.TgZ(11,"ion-item",8),e.TgZ(12,"ion-label"),e._uU(13,"Fecha de alta:"),e.qZA(),e.TgZ(14,"ion-text",9),e._uU(15),e.qZA(),e.TgZ(16,"ion-popover",10),e.YNc(17,l,7,1,"ng-template"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"ion-col",11),e.TgZ(19,"ion-label"),e._uU(20,"Fecha de reparaci\xf3n"),e.qZA(),e.qZA(),e.TgZ(21,"ion-col",12),e._UZ(22,"ion-input",13),e.qZA(),e.qZA(),e.TgZ(23,"ion-row",6),e.TgZ(24,"ion-col",11),e.TgZ(25,"ion-label"),e._uU(26,"Operaci\xf3n"),e.qZA(),e.qZA(),e.TgZ(27,"ion-col",14),e._UZ(28,"ion-input",15),e.qZA(),e.qZA(),e.TgZ(29,"ion-row",6),e.TgZ(30,"ion-col",11),e.TgZ(31,"ion-label"),e._uU(32,"Matr\xedcula"),e.qZA(),e.qZA(),e.TgZ(33,"ion-col",16),e._UZ(34,"ion-input",17),e.qZA(),e.qZA(),e.TgZ(35,"ion-row",6),e.TgZ(36,"ion-col",11),e.TgZ(37,"ion-label"),e._uU(38,"Modelo"),e.qZA(),e.qZA(),e.TgZ(39,"ion-col",18),e._UZ(40,"ion-input",19),e.qZA(),e.qZA(),e.TgZ(41,"ion-row",6),e.TgZ(42,"ion-col",11),e.TgZ(43,"ion-label"),e._uU(44,"Marca"),e.qZA(),e.qZA(),e.TgZ(45,"ion-col",18),e._UZ(46,"ion-input",20),e.qZA(),e.qZA(),e.TgZ(47,"ion-row",6),e.TgZ(48,"ion-col",11),e.TgZ(49,"ion-label"),e._uU(50,"Cliente"),e.qZA(),e.qZA(),e.TgZ(51,"ion-col",14),e._UZ(52,"ion-input",21),e.qZA(),e.qZA(),e.TgZ(53,"ion-row",6),e.TgZ(54,"ion-col",11),e.TgZ(55,"ion-label"),e._uU(56,"NOR"),e.qZA(),e.qZA(),e.TgZ(57,"ion-col",14),e._UZ(58,"ion-input",22),e.qZA(),e.qZA(),e.TgZ(59,"ion-row",6),e.TgZ(60,"ion-col",11),e.TgZ(61,"ion-label"),e._uU(62,"Coste"),e.qZA(),e.qZA(),e.TgZ(63,"ion-col",14),e._UZ(64,"ion-input",23),e.qZA(),e.qZA(),e.TgZ(65,"ion-row",6),e.TgZ(66,"ion-col",11),e.TgZ(67,"ion-label"),e._uU(68,"Puntos"),e.qZA(),e.qZA(),e.TgZ(69,"ion-col",14),e._UZ(70,"ion-input",24),e.qZA(),e.qZA(),e.TgZ(71,"ion-row",6),e.TgZ(72,"ion-col",11),e.TgZ(73,"ion-label"),e._uU(74,"Agencia"),e.qZA(),e.qZA(),e.TgZ(75,"ion-col",14),e._UZ(76,"ion-input",25),e.qZA(),e.qZA(),e.TgZ(77,"ion-row",6),e.TgZ(78,"ion-col",26),e._uU(79," Reparado "),e.qZA(),e.TgZ(80,"ion-col",27),e.YNc(81,d,1,0,"ion-icon",28),e.YNc(82,A,1,0,"ion-icon",29),e.qZA(),e.qZA(),e.TgZ(83,"ion-row",6),e.TgZ(84,"ion-col",30),e.TgZ(85,"ion-button",31),e.NdJ("click",function(){return n.closeModal()}),e._uU(86," Cancelar "),e.qZA(),e.qZA(),e.TgZ(87,"ion-col",30),e.TgZ(88,"ion-button",31),e.NdJ("click",function(){return n.editCarRepair()}),e._uU(89," Guardar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("formGroup",n.formCarRepair),e.xp6(9),e.Oqu(n.spanishDateOrder),e.xp6(66),e.Q6J("ngIf",n.carRepair.repaired),e.xp6(1),e.Q6J("ngIf",!n.carRepair.repaired))},directives:[r.Gu,r.sr,r.wd,r.W2,i._Y,i.JL,i.sg,r.jY,r.Nd,r.wI,r.Ie,r.Q$,r.yW,r.d8,r.pK,r.j9,i.JJ,i.u,r.as,o.O5,r.YG,r.x4,r.QI,r.Sm,r.gu],styles:['.body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.formulario[_ngcontent-%COMP%]{margin-top:1.5%;padding:2%;border-top:2px double gray;border:1px solid;border-color:"primary";border-radius:2.5rem;background-color:#fff;margin-bottom:4%}.button[_ngcontent-%COMP%]{--background: #22388c;color:#fff}.customInput[_ngcontent-%COMP%]{border:1px solid gray;border-color:"primary";border-radius:2.5rem}.secundaryInput[_ngcontent-%COMP%]{margin-left:5%}.date[_ngcontent-%COMP%]{margin-left:20%}.buttonDate[_ngcontent-%COMP%]{background-color:#717499}']}),c})()}}]);