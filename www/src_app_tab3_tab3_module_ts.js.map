{"version":3,"file":"src_app_tab3_tab3_module_ts.js","mappings":"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","sources":["./src/app/tab3/tab3-routing.module.ts","./src/app/tab3/tab3.module.ts","./src/app/tab3/tab3.page.ts","./src/app/tab3/tab3.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Tab3Page } from './tab3.page';\r\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\r\n\r\nimport { Tab3PageRoutingModule } from './tab3-routing.module';\r\nimport { AgencyService } from '../services/agency.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ExploreContainerComponentModule,\r\n    RouterModule.forChild([{ path: '', component: Tab3Page }]),\r\n    Tab3PageRoutingModule,\r\n\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  providers:[AgencyService],\r\n  declarations: [Tab3Page]\r\n})\r\nexport class Tab3PageModule {}\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { Agency } from '../models/Agency';\r\nimport { AgencyService } from '../services/agency.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { IonToggle, PickerColumnOption, PickerController, PickerOptions } from '@ionic/angular';\r\nimport { InsuranceCompany } from '../models/InsuranceCompany';\r\nimport { InsuranceCompanyService } from '../services/insurance-company.service';\r\n\r\n@Component({\r\n  selector: 'app-tab3',\r\n  templateUrl: 'tab3.page.html',\r\n  styleUrls: ['tab3.page.scss']\r\n})\r\nexport class Tab3Page {\r\n\r\n  @ViewChild(IonToggle) toggle: IonToggle;\r\n\r\n  public insurance:InsuranceCompany=null;\r\n  public formAgency: FormGroup;\r\n  public companies: InsuranceCompany[];\r\n\r\n  constructor(\r\n    private as: AgencyService,\r\n    private fb: FormBuilder,\r\n    private is: InsuranceCompanyService,\r\n    private pickerController:PickerController) {\r\n\r\n    this.formAgency = this.fb.group({\r\n      zipCode: [\"\", Validators.required],\r\n      address: [\"\", Validators.required],\r\n      location: [\"\", Validators.required],\r\n      phoneNumber: [\"\", Validators.required]\r\n    });\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    this.companies=await this.is.getAll();\r\n    if(this.companies.length>0){\r\n    }\r\n  }\r\n\r\n  public test_GetAll() {\r\n    this.as.getAll();\r\n  }\r\n\r\n  public test_GetAllPaged(limit: number, offset: number) {\r\n    this.as.getAllPaged(limit, offset);\r\n  }\r\n\r\n  public test_GetById(id: number) {\r\n    this.as.getById(id);\r\n  }\r\n\r\n  public test_GetByUserNamePaged(username: string, limit: number, offset: number) {\r\n    this.as.getByUserNamePaged(username, limit, offset);\r\n  }\r\n\r\n  public test_GetByisActivePaged(available: boolean, limit: number, offset: number) {\r\n    this.as.getByisActivePaged(available, limit, offset);\r\n  }\r\n\r\n  public async test_Create(): Promise<void> {\r\n\r\n    if(this.insurance!=null){\r\n      let ag: Agency = await this.as.getById(7);\r\n\r\n\r\n      let newGift: Agency = {\r\n        zipCode: this.formAgency.get(\"zipCode\").value,\r\n        address: this.formAgency.get(\"address\").value,\r\n        location: this.formAgency.get(\"location\").value,\r\n        phoneNumber: this.formAgency.get(\"phoneNumber\").value,\r\n        amount: 0,\r\n        points: 0,\r\n        pointsRedeemed: 0,\r\n        myInsuranceCompany: this.insurance,\r\n        myCarRepairs: [],\r\n        myExchangesGifts: [],\r\n        myUser: ag.myUser,\r\n        active: this.toggle.checked\r\n      }\r\n  \r\n      console.log(newGift);\r\n  \r\n      newGift = await this.as.createOrUpdate(newGift);\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  public async test_Update() {\r\n    let toDrop: Agency[] = await this.as.getAll();\r\n    let last: Agency = toDrop[toDrop.length - 1];\r\n    last.address = \"se ha modificadoo 666\";\r\n    console.log(last);\r\n    if (toDrop != null) {\r\n      console.log(await this.as.createOrUpdate(last));\r\n    }\r\n  }\r\n\r\n  public async test_Delete() {\r\n    let toDrop: Agency[] = await this.as.getAll();\r\n    let last: Agency = toDrop[toDrop.length - 1];\r\n    console.log(last);\r\n    if (toDrop != null) {\r\n      console.log(await this.as.delete(last));\r\n    }\r\n  }\r\n\r\n  public segmentChanged(event) {\r\n\r\n  }\r\n\r\n  async showPicker() {\r\n    let options: PickerOptions = {\r\n      buttons: [\r\n        {\r\n          text: \"Cancel\",\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text:'Ok',\r\n          handler:(value:any) => {\r\n            this.insurance=value.Compañías.value;\r\n          }\r\n        }\r\n      ],\r\n      columns:[{\r\n        name:'Compañías',\r\n        options:this.getColumnOptions()\r\n      }]\r\n    };\r\n\r\n    let picker = await this.pickerController.create(options);\r\n    picker.present()\r\n  }\r\n\r\n  getColumnOptions(){\r\n    let options = [];\r\n    this.companies.forEach(x => {\r\n      options.push({text:x.cia_Name,value:x});\r\n    });\r\n    return options;\r\n  }\r\n\r\n}\r\n\r\nexport interface PickerColumn {\r\n  name: string;\r\n  align?: string;\r\n  selectedIndex?: number;\r\n  prevSelected?: number;\r\n  prefix?: string;\r\n  suffix?: string;\r\n  options: PickerColumnOption[];\r\n  cssClass?: string | string[];\r\n  columnWidth?: string;\r\n  prefixWidth?: string;\r\n  suffixWidth?: string;\r\n  optionsWidth?: string;\r\n  refresh?: () => void;\r\n} \r\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>\\r\\n      Prueba Agencia\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <div class=\\\"body\\\">\\r\\n    <form [formGroup]=\\\"formAgency\\\" class=\\\"ion-padding\\\">\\r\\n      <div class=\\\"formulario\\\">\\r\\n      <ion-grid>\\r\\n        \\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"1\\\" sizeLg=\\\"1\\\">\\r\\n            <ion-label>Código Zip:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"11\\\" sizeLg=\\\"11\\\">\\r\\n            <ion-input type=\\\"number\\\" class=\\\"customInput\\\" formControlName=\\\"zipCode\\\"></ion-input>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        \\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"1\\\" sizeLg=\\\"1\\\">\\r\\n            <ion-label>Dirección:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"11\\\" sizeLg=\\\"11\\\">\\r\\n            <ion-input class=\\\"customInput\\\" type=\\\"text\\\" formControlName=\\\"address\\\"></ion-input>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"1\\\" sizeLg=\\\"1\\\">\\r\\n            <ion-label>Localidad:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"11\\\" sizeLg=\\\"11\\\">\\r\\n            <ion-input class=\\\"customInput\\\" type=\\\"text\\\" formControlName=\\\"location\\\"></ion-input>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"1\\\" sizeLg=\\\"1\\\">\\r\\n            <ion-label>Número de Teléfono:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"11\\\" sizeLg=\\\"11\\\">\\r\\n            <ion-input class=\\\"customInput\\\" type=\\\"number\\\" formControlName=\\\"phoneNumber\\\"></ion-input>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        \\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"9\\\" sizeLg=\\\"1\\\">\\r\\n            Activa:\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"3\\\" sizeLg=\\\"11  \\\">\\r\\n            <ion-item  lines=\\\"none\\\">\\r\\n              No<ion-toggle></ion-toggle>Si\\r\\n           </ion-item>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        \\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-label>Compañía de Seguros:</ion-label>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showPicker()\\\" *ngIf=\\\"this.insurance==null\\\">\\r\\n              Seleccionar\\r\\n            </ion-button>\\r\\n\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showPicker()\\\" *ngIf=\\\"this.insurance!=null\\\">\\r\\n              {{this.insurance.cia_Name}}\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col size=\\\"6\\\">\\r\\n            <ion-button (click)=\\\"test_Create()\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"button\\\">\\r\\n              Cancelar\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"6\\\">\\r\\n            <ion-button (click)=\\\"test_Create()\\\" expand=\\\"block\\\" shape=\\\"round\\\" style=\\\"margin-top: 2% !important;\\\" class=\\\"button\\\" [disabled]=\\\"this.formAgency.invalid||this.insurance==null\\\">\\r\\n              Crear Agencia\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </div>\\r\\n    </form>\\r\\n\\r\\n  <div *ngIf=\\\"false\\\">\\r\\n\\r\\n\\r\\n    <ion-button (click)=\\\"test_GetAll()\\\" expand=\\\"block\\\" shape=\\\"round\\\">\\r\\n      Prueba getAll()\\r\\n    </ion-button>\\r\\n\\r\\n    <ion-button (click)=\\\"test_GetAllPaged(15,0)\\\" expand=\\\"block\\\" shape=\\\"round\\\">\\r\\n      Prueba getAllPaged()\\r\\n    </ion-button>\\r\\n\\r\\n    <ion-button (click)=\\\"test_GetById(7)\\\" expand=\\\"block\\\" shape=\\\"round\\\">\\r\\n      Prueba getById()\\r\\n    </ion-button>\\r\\n\\r\\n    <ion-button (click)=\\\"test_GetByUserNamePaged('no',15,0)\\\" expand=\\\"block\\\" shape=\\\"round\\\">\\r\\n      Prueba getByUserNamePaged()\\r\\n    </ion-button>\\r\\n\\r\\n    <ion-button (click)=\\\"test_GetByisActivePaged(true,15,0)\\\" expand=\\\"block\\\" shape=\\\"round\\\">\\r\\n      Prueba getByIsActivePaged()\\r\\n    </ion-button>\\r\\n\\r\\n    <ion-button (click)=\\\"test_Update()\\\" expand=\\\"block\\\" shape=\\\"round\\\">\\r\\n      Prueba createUpdate\\r\\n    </ion-button>\\r\\n\\r\\n    <ion-button (click)=\\\"test_Delete()\\\" expand=\\\"block\\\" shape=\\\"round\\\">\\r\\n      Prueba delete\\r\\n    </ion-button>\\r\\n\\r\\n    <ion-button routerLink=\\\"/tab-administrator/agency-list\\\" expand=\\\"block\\\" shape=\\\"round\\\">\\r\\n      Prueba delete\\r\\n    </ion-button>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}