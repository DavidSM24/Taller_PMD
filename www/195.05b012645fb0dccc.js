"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[195],{195:(A,d,r)=>{r.r(d),r.d(d,{GiftListPageModule:()=>C});var m=r(8816),f=r(6019),g=r(9010),n=r(2651),h=r(8725),c=r(4762),p=r(2112),t=r(865),Z=r(9311),P=r(4483),b=r(371);function T(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",12),t.TgZ(1,"ion-item",13),t.TgZ(2,"ion-label",14),t.TgZ(3,"div",15),t.TgZ(4,"ion-card",16),t._UZ(5,"ion-img",17),t.qZA(),t.qZA(),t.TgZ(6,"div",15),t.TgZ(7,"div"),t.TgZ(8,"h2",18),t._uU(9),t.qZA(),t.TgZ(10,"ion-text",18),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"ion-button",19),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().buy(l)}),t._uU(14,"Canjear Regalo"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(5),t.MGl("src","https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/",e.picture,""),t.xp6(4),t.Oqu(e.name),t.xp6(3),t.hij("Precio: ",e.points," Puntos")}}const M=[{path:"",component:(()=>{class o{constructor(e,i,s,l,u){this.authS=e,this.gs=i,this.modalCtrl=s,this.uts=l,this.pt=u,this.gifts=[]}ngOnInit(){}ionViewWillEnter(){return(0,c.mG)(this,void 0,void 0,function*(){this.horizontalCol=Math.ceil(this.pt.height()/540),console.log(this.gs.added),this.gs.added?(this.reset(null),this.gs.added=!1):(this.niTems=Math.ceil(this.pt.height()/20+10),yield this.loadgifts())})}loadgifts(e){return(0,c.mG)(this,void 0,void 0,function*(){let i=[];0==this.gifts.length&&(yield this.uts.presentLoading(),this.infinite.disabled=!1,i=yield this.gs.getAllPaged(this.niTems,0),i.length<this.niTems&&(this.infinite.disabled=!0),i.forEach(s=>{s.available||i.splice(i.indexOf(s),1)}),this.gifts=this.gifts.concat(i)),e&&e.target.complete(),yield this.uts.hideLoading()})}infiniteLoad(e){return(0,c.mG)(this,void 0,void 0,function*(){let i=[];this.infinite.disabled||(i=yield this.gs.getAllPaged(this.niTems,this.gifts.length),this.gifts=this.gifts.concat(i),i.length<this.niTems&&(this.infinite.disabled=!0),i.forEach(s=>{s.available||i.splice(i.indexOf(s),1)})),this.infinite.complete()})}reset(e){return(0,c.mG)(this,void 0,void 0,function*(){this.infinite.disabled=!1,this.gifts=[],this.loadgifts(e)})}logout(){this.authS.logout()}buy(e){return(0,c.mG)(this,void 0,void 0,function*(){try{const i=yield this.modalCtrl.create({component:p.c,cssClass:"fullscreen",componentProps:{giftsaw:e}});yield i.present();const s=yield i.onDidDismiss();if(null!=s.data){let l=this.gifts.indexOf(e);this.gifts[l]=s.data.newGift}}catch(i){console.log(i)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.e),t.Y36(P.R),t.Y36(n.IN),t.Y36(b.f),t.Y36(n.t4))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-gift-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(n.ju,5),2&e){let s;t.iGM(s=t.CRH())&&(i.infinite=s.first)}},decls:19,vars:4,consts:[[3,"translucent"],["color","medium"],["slot","end",2,"margin-right","1%"],["slot","end","name","log-out-outline",1,"ico",2,"zoom","1.7","cursor","pointer",3,"click"],[1,"ion-align-items-center"],["placeholder","Escribe para encuentrar el Articulo que est\xe1s buscando...","inputmode","text","type","text","showCancelButton","always",3,"ngModel","ngModelChange"],[2,"background-color","white",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"body"],["sizeLg","4","sizeMd","4","sizeXs","6",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText",""],["sizeLg","4","sizeMd","4","sizeXs","6"],["color","black"],[1,"shopbox"],[1,"center"],[1,"imcage"],[1,"image",3,"src"],[1,"ion-text-center"],["color","medium",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-title"),t._uU(3,"Articulos Disponibles"),t.qZA(),t.TgZ(4,"ion-buttons",2),t.TgZ(5,"ion-icon",3),t.NdJ("click",function(){return i.logout()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-toolbar",1),t.TgZ(7,"ion-row",4),t.TgZ(8,"ion-col"),t.TgZ(9,"ion-searchbar",5),t.NdJ("ngModelChange",function(l){return i.searchTerm=l}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"ion-content",6),t.TgZ(11,"ion-refresher",7),t.NdJ("ionRefresh",function(l){return i.reset(l)}),t._UZ(12,"ion-refresher-content"),t.qZA(),t.TgZ(13,"div",8),t.TgZ(14,"ion-grid"),t.TgZ(15,"ion-row"),t.YNc(16,T,15,3,"ion-col",9),t.qZA(),t.qZA(),t.TgZ(17,"ion-infinite-scroll",10),t.NdJ("ionInfinite",function(l){return i.infiniteLoad(l)}),t._UZ(18,"ion-infinite-scroll-content",11),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("translucent",!1),t.xp6(9),t.Q6J("ngModel",i.searchTerm),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(6),t.Q6J("ngForOf",i.gifts))},directives:[n.Gu,n.sr,n.wd,n.Sm,n.gu,n.Nd,n.wI,n.VI,n.j9,g.JJ,g.On,n.W2,n.nJ,n.Wo,n.jY,f.sg,n.ju,n.MB,n.Ie,n.Q$,n.PM,n.Xz,n.yW,n.YG],styles:["ion-col[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:#4b4b4d!important}.header-row[_ngcontent-%COMP%]{border-radius:0%;border:0px}.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:#fff!important;font-size:1.2rem;text-align:center}.row[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem}.ico[_ngcontent-%COMP%]{color:#fff}.body[_ngcontent-%COMP%]{background:#d0e5f0!important;background-size:cover;min-height:100%;color:#4b4b4d}ion-content[_ngcontent-%COMP%]{--background: #f5fbfe}.leftside[_ngcontent-%COMP%]{margin-left:5%;width:30%;float:left;height:15rem;display:table}.list[_ngcontent-%COMP%]{background:#d0e5f0!important}.rightside[_ngcontent-%COMP%]{width:65%;float:right;height:15rem;text-align:center;display:table}.imcage[_ngcontent-%COMP%]{width:15rem;max-width:200px;height:15rem;vertical-align:middle}.image[_ngcontent-%COMP%]{width:100%;max-width:200px;height:15rem;vertical-align:middle;box-shadow:inset;border-radius:25%}.shopbox[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #b3b3b3;border-radius:25px;padding-top:7%!important;padding-bottom:7%!important}ion-item[_ngcontent-%COMP%]{--inner-border-width: 0}"]}),o})()}];let v=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.Bz.forChild(M)],h.Bz]}),o})(),C=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez,g.u5,n.Pc,v,m.h]]}),o})()}}]);