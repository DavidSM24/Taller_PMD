"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1278],{9600:(I,u,c)=>{c.d(u,{T:()=>q});var g=c(4762),a=c(9010),n=c(5744),e=c(865),l=c(2651),r=c(8725),m=c(1249),_=c(6019);function Z(p,t){1&p&&(e.TgZ(0,"ion-row",7),e.TgZ(1,"ion-col",8),e.TgZ(2,"ion-label"),e._uU(3,"Operaci\xf3n"),e.qZA(),e.qZA(),e.TgZ(4,"ion-col",9),e._UZ(5,"ion-input",26),e.qZA(),e.qZA())}function f(p,t){1&p&&(e.TgZ(0,"ion-row",7),e.TgZ(1,"ion-col",8),e.TgZ(2,"ion-label"),e._uU(3,"NOR"),e.qZA(),e.qZA(),e.TgZ(4,"ion-col",9),e._UZ(5,"ion-input",27),e.qZA(),e.qZA())}function T(p,t){1&p&&(e.TgZ(0,"ion-row",7),e.TgZ(1,"ion-col",8),e.TgZ(2,"ion-label"),e._uU(3,"Coste"),e.qZA(),e.qZA(),e.TgZ(4,"ion-col",9),e._UZ(5,"ion-input",28),e.qZA(),e.qZA())}function h(p,t){1&p&&(e.TgZ(0,"ion-row",7),e.TgZ(1,"ion-col",8),e.TgZ(2,"ion-label"),e._uU(3,"Puntos"),e.qZA(),e.qZA(),e.TgZ(4,"ion-col",9),e._UZ(5,"ion-input",29),e.qZA(),e.qZA())}function R(p,t){1&p&&(e.TgZ(0,"ion-row",7),e.TgZ(1,"ion-col",16),e.TgZ(2,"ion-label"),e._uU(3,"Fecha de reparaci\xf3n"),e.qZA(),e.qZA(),e.TgZ(4,"ion-col",17),e._UZ(5,"ion-input",30),e.qZA(),e.qZA())}function A(p,t){1&p&&e._UZ(0,"ion-icon",31)}function C(p,t){1&p&&e._UZ(0,"ion-icon",32)}let q=(()=>{class p{constructor(s,i,o,d){this.modalController=s,this.formBuilder=i,this.routes=o,this.dateTimeService=d,this.validator=this.formBuilder.group({operation:["",[a.kI.required]],carPlate:["",[a.kI.required]],model:["",[a.kI.required]],brandCar:["",[a.kI.required]],clienteName:["",[a.kI.required]],nor:["",[a.kI.required]],amount:[""],asigPoints:[""],myAgency:[""],dateOrder:["",[a.kI.required]],dateRepair:[""],repaired:["",[a.kI.required]]})}ngOnInit(){this.spanishDateOrder=this.dateTimeService.formatSpanishDateString(""+this.carRepair.dateOrder),this.carRepair.dateRepair&&(this.spanishDateRepair=this.dateTimeService.formatSpanishDateString(""+this.carRepair.dateRepair)),this.formCarRepair=this.formBuilder.group({operation:[this.carRepair.operation,[a.kI.required]],carPlate:[this.carRepair.carPlate,[a.kI.required]],model:[this.carRepair.model,[a.kI.required]],brandCar:[this.carRepair.brandCar,[a.kI.required]],clientName:[this.carRepair.clienteName,[a.kI.required]],nor:[this.carRepair.nor,[a.kI.required]],amount:[this.carRepair.amount],asigPoints:[this.carRepair.asigPoints],myAgency:[this.carRepair.myAgency.myUser.name],dateOrder:[this.spanishDateOrder,[a.kI.required]],dateRepair:[this.spanishDateRepair],repaired:[this.carRepair.repaired,[a.kI.required]]})}ionViewDidEnter(){return(0,g.mG)(this,void 0,void 0,function*(){})}edit(){return(0,g.mG)(this,void 0,void 0,function*(){const s=yield this.modalController.create({component:n.K,cssClass:"my-modal-class",componentProps:{carRepair:this.carRepair}});try{return yield s.present()}catch(i){}})}closeModal(){this.modalController.dismiss()}}return p.\u0275fac=function(s){return new(s||p)(e.Y36(l.IN),e.Y36(a.qu),e.Y36(r.F0),e.Y36(m.Y))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-car-repair-saw"]],inputs:{carRepair:"carRepair"},decls:62,vars:11,consts:[[3,"translucent"],["color","medium"],[3,"fullscreen"],["color","medium",1,"body"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],["class","ion-align-items-center",4,"ngIf"],[1,"ion-align-items-center"],["sizeSm","1","sizeLg","3"],["sizeSm","11","sizeLg","9"],["readonly","","type","text","formControlName","carPlate",1,"customInput"],["sizeSm","5","sizeLg","9"],["readonly","","type","text","formControlName","model",1,"customInput"],["readonly","","type","text","formControlName","brandCar",1,"customInput"],["readonly","","type","text","formControlName","clientName",1,"customInput"],["readonly","","type","text","formControlName","myAgency",1,"customInput"],["sizeSm","7","sizeLg","3"],["sizeSm","7","sizeLg","4"],["readonly","","type","text","formControlName","dateOrder",1,"customInput"],["sizeSm","7","sizeLg","1.5"],["title","Reparado"],["name","car","style","pointer-events: none;color: #39ff14; zoom: 2.0;",4,"ngIf"],["title","Sin Reparar"],["name","construct","style","pointer-events: none;color: red; zoom: 2.0;",4,"ngIf"],["size","12"],["expand","block","shape","round",2,"margin-left","22%","margin-right","22%","margin-top","2% !important","--background","#4083cc","color","white",3,"click"],["readonly","","type","number","formControlName","operation",1,"customInput"],["readonly","","type","number","formControlName","nor",1,"customInput"],["readonly","","type","number","formControlName","amount",1,"customInput"],["readonly","","type","number","formControlName","asigPoints",1,"customInput"],["readonly","","type","text","formControlName","dateRepair",1,"customInput"],["name","car",2,"pointer-events","none","color","#39ff14","zoom","2.0"],["name","construct",2,"pointer-events","none","color","red","zoom","2.0"]],template:function(s,i){1&s&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title"),e._uU(3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.TgZ(7,"div",5),e.TgZ(8,"ion-grid"),e.YNc(9,Z,6,0,"ion-row",6),e.TgZ(10,"ion-row",7),e.TgZ(11,"ion-col",8),e.TgZ(12,"ion-label"),e._uU(13,"Matr\xedcula"),e.qZA(),e.qZA(),e.TgZ(14,"ion-col",9),e._UZ(15,"ion-input",10),e.qZA(),e.qZA(),e.TgZ(16,"ion-row",7),e.TgZ(17,"ion-col",8),e.TgZ(18,"ion-label"),e._uU(19,"Modelo"),e.qZA(),e.qZA(),e.TgZ(20,"ion-col",11),e._UZ(21,"ion-input",12),e.qZA(),e.qZA(),e.TgZ(22,"ion-row",7),e.TgZ(23,"ion-col",8),e.TgZ(24,"ion-label"),e._uU(25,"Marca"),e.qZA(),e.qZA(),e.TgZ(26,"ion-col",11),e._UZ(27,"ion-input",13),e.qZA(),e.qZA(),e.TgZ(28,"ion-row",7),e.TgZ(29,"ion-col",8),e.TgZ(30,"ion-label"),e._uU(31,"Cliente"),e.qZA(),e.qZA(),e.TgZ(32,"ion-col",9),e._UZ(33,"ion-input",14),e.qZA(),e.qZA(),e.YNc(34,f,6,0,"ion-row",6),e.YNc(35,T,6,0,"ion-row",6),e.YNc(36,h,6,0,"ion-row",6),e.TgZ(37,"ion-row",7),e.TgZ(38,"ion-col",8),e.TgZ(39,"ion-label"),e._uU(40,"Agencia"),e.qZA(),e.qZA(),e.TgZ(41,"ion-col",9),e._UZ(42,"ion-input",15),e.qZA(),e.qZA(),e.TgZ(43,"ion-row",7),e.TgZ(44,"ion-col",16),e.TgZ(45,"ion-label"),e._uU(46,"Fecha de alta"),e.qZA(),e.qZA(),e.TgZ(47,"ion-col",17),e._UZ(48,"ion-input",18),e.qZA(),e.qZA(),e.YNc(49,R,6,0,"ion-row",6),e.TgZ(50,"ion-row",7),e.TgZ(51,"ion-col",16),e._uU(52," Reparado "),e.qZA(),e.TgZ(53,"ion-col",19),e.TgZ(54,"div",20),e.YNc(55,A,1,0,"ion-icon",21),e.qZA(),e.TgZ(56,"div",22),e.YNc(57,C,1,0,"ion-icon",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"ion-row",7),e.TgZ(59,"ion-col",24),e.TgZ(60,"ion-button",25),e.NdJ("click",function(){return i.closeModal()}),e._uU(61," Cerrar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&s&&(e.Q6J("translucent",!0),e.xp6(3),e.hij("Visualizaci\xf3n de Reparaci\xf3n: ",i.carRepair.operation,""),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("formGroup",i.formCarRepair),e.xp6(3),e.Q6J("ngIf",i.carRepair.operation>0),e.xp6(25),e.Q6J("ngIf",i.carRepair.nor>0),e.xp6(1),e.Q6J("ngIf",i.carRepair.amount>0),e.xp6(1),e.Q6J("ngIf",i.carRepair.asigPoints>0),e.xp6(13),e.Q6J("ngIf",null!=i.carRepair.dateRepair),e.xp6(6),e.Q6J("ngIf",i.carRepair.repaired),e.xp6(2),e.Q6J("ngIf",!i.carRepair.repaired))},directives:[l.Gu,l.sr,l.wd,l.W2,a._Y,a.JL,a.sg,l.jY,_.O5,l.Nd,l.wI,l.Q$,l.pK,l.j9,a.JJ,a.u,l.YG,l.as,l.gu],styles:['.body[_ngcontent-%COMP%]{background:#d0e5f0!important;background-size:cover;min-height:100%}.formulario[_ngcontent-%COMP%]{margin-top:1.5%;padding:2%;border-top:2px double gray;border:1px solid;border-color:"medium";border-radius:2.5rem;background-color:#fff;margin-bottom:4%}.customInput[_ngcontent-%COMP%]{border:1px solid gray;border-color:"primary";border-radius:2.5rem;background:#d0e5f0!important;color:#000!important}.secundaryInput[_ngcontent-%COMP%]{margin-left:5%}.date[_ngcontent-%COMP%]{margin-left:20%}']}),p})()},5744:(I,u,c)=>{c.d(u,{K:()=>p});var g=c(4762),a=c(9010),n=c(2651),e=c(5764),l=c(6092),r=c(865),m=c(7928),_=c(371),Z=c(1249),f=c(6019);function T(t,s){if(1&t){const i=r.EpF();r.TgZ(0,"ion-datetime",26,27),r.NdJ("ionChange",function(){r.CHM(i);const d=r.MAs(1);return r.oxw().changeDateRepair(d.value)}),r.TgZ(2,"ion-buttons",28),r.TgZ(3,"ion-button",29),r.NdJ("click",function(){return r.CHM(i),r.oxw().confirm()}),r._uU(4,"Aceptar"),r.qZA(),r.TgZ(5,"ion-button",29),r.NdJ("click",function(){return r.CHM(i),r.oxw().reset()}),r._uU(6,"Cancelar"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const i=r.oxw();r.Q6J("value",i.stringDateOrder)}}function h(t,s){1&t&&(r.TgZ(0,"span",30),r._uU(1," *Debe rellenar este campo. Introduzca entre 4 y 10 caracteres. "),r.qZA())}function R(t,s){1&t&&(r.TgZ(0,"span",30),r._uU(1," *Debe rellenar este campo. Introduzca entre 2 y 50 caracteres. "),r.qZA())}function A(t,s){1&t&&(r.TgZ(0,"span",30),r._uU(1," *Debe rellenar este campo. Introduzca entre 2 y 50 caracteres. "),r.qZA())}function C(t,s){1&t&&(r.TgZ(0,"span",30),r._uU(1," *Debe rellenar este campo. Introduzca entre 2 y 50 caracteres. "),r.qZA())}function q(t,s){1&t&&r._UZ(0,"ion-icon",31)}let p=(()=>{class t{constructor(i,o,d,P,b){this.modalController=i,this.carRepairService=o,this.formBuilder=d,this.uts=P,this.dateTimeService=b,this.dateValue=""}ngOnInit(){this.carRepair.dateOrder&&(this.spanishDateOrder=this.dateTimeService.formatSpanishDateString(""+this.carRepair.dateOrder),this.formatedString=this.dateTimeService.formatString(""+this.carRepair.dateOrder)),this.carRepair.dateRepair&&(this.spanishDateRepair=this.dateTimeService.formatSpanishDateString(""+this.carRepair.dateRepair)),this.formCarRepair=this.formBuilder.group({carPlate:[this.carRepair.carPlate.toUpperCase(),[a.kI.required,a.kI.minLength(4),a.kI.maxLength(10)]],model:[this.carRepair.model,[a.kI.required,a.kI.minLength(2),a.kI.maxLength(50)]],brandCar:[this.carRepair.brandCar,[a.kI.required,a.kI.minLength(2),a.kI.maxLength(50)]],clienteName:[this.carRepair.clienteName,[a.kI.required,a.kI.minLength(2),a.kI.maxLength(50)]],dateOrder:[this.carRepair.dateOrder,[a.kI.required]],spanishDateRepair:[this.spanishDateRepair]})}editCarRepair(){return(0,g.mG)(this,void 0,void 0,function*(){this.newCarRepair={id:this.carRepair.id,operation:this.carRepair.operation,carPlate:this.formCarRepair.get("carPlate").value,model:this.formCarRepair.get("model").value,brandCar:this.formCarRepair.get("brandCar").value,clienteName:this.formCarRepair.get("clienteName").value,dateOrder:this.formatedString,nor:this.carRepair.nor,amount:this.carRepair.amount,dateRepair:this.carRepair.dateRepair,asigPoints:this.carRepair.asigPoints,repaired:this.carRepair.repaired,myAgency:this.carRepair.myAgency};try{this.newCarRepair=yield this.carRepairService.createOrUpdate(this.newCarRepair),yield this.uts.presentToast("Reparaci\xf3n modificada correctamente.","success","checkmark-circle-outline"),this.modalController.dismiss({newCarRepair:this.newCarRepair})}catch(i){this.uts.presentToast("Fallo al guradar","danger","ban")}})}closeModal(){this.modalController.dismiss()}confirm(){this.datetime.confirm(!0)}reset(){this.datetime.cancel(!0)}changeDateRepair(i){this.spanishDateOrder=this.dateTimeService.formatSpanishDateString(i),this.stringDateOrder=this.dateTimeService.formatString(i),this.dateValue=i,this.formatedString=this.formatDate(this.dateValue)}formatDate(i){return(0,e.Z)((0,l.Z)(i),"yyyy-MM-dd HH:mm:SS")}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(n.IN),r.Y36(m.K),r.Y36(a.qu),r.Y36(_.f),r.Y36(Z.Y))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-car-repair-update"]],viewQuery:function(i,o){if(1&i&&r.Gf(n.x4,5),2&i){let d;r.iGM(d=r.CRH())&&(o.datetime=d.first)}},inputs:{carRepair:"carRepair"},decls:57,vars:10,consts:[[3,"translucent"],["color","medium"],[3,"fullscreen"],[1,"body"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center",2,"margin-left","-2% !important"],["button","true","id","open-date-input"],["trigger","open-date-input","show-backdrop","false"],[1,"ion-align-items-center"],["sizeSm","2","sizeLg","2"],["sizeSm","11","sizeLg","10"],["type","text","formControlName","carPlate","required","true",1,"customInput",2,"text-transform","uppercase"],["class","invalid",4,"ngIf"],["sizeSm","5","sizeLg","10"],["type","text","formControlName","model","required","true",1,"customInput"],["type","text","formControlName","brandCar","required","true",1,"customInput"],["sizeSm","10","sizeLg","10"],["type","text","formControlName","clienteName","required","true",1,"customInput"],["sizeSm","7","sizeLg","2"],["sizeSm","7","sizeLg","4"],["title","Sin Reparar. Espere asignaci\xf3n de administradores."],["name","construct","style","pointer-events: none;zoom:1.7;color: red;",4,"ngIf"],["size","6"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],["expand","block","shape","round",1,"button2",2,"margin-top","2% !important",3,"click"],["color","secondary",3,"value","ionChange"],["popoverDatetime",""],["slot","buttons"],["shape","round",1,"button",3,"click"],[1,"invalid"],["name","construct",2,"pointer-events","none","zoom","1.7","color","red"]],template:function(i,o){1&i&&(r.TgZ(0,"ion-header",0),r.TgZ(1,"ion-toolbar",1),r.TgZ(2,"ion-title"),r._uU(3,"Editar Reparaci\xf3n"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"ion-content",2),r.TgZ(5,"div",3),r.TgZ(6,"form",4),r.TgZ(7,"div",5),r.TgZ(8,"ion-grid",1),r.TgZ(9,"ion-row",6),r.TgZ(10,"ion-col"),r.TgZ(11,"ion-item",7),r.TgZ(12,"ion-text"),r._uU(13),r.qZA(),r.TgZ(14,"ion-popover",8),r.YNc(15,T,7,1,"ng-template"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"ion-row",9),r.TgZ(17,"ion-col",10),r.TgZ(18,"ion-label"),r._uU(19,"Matr\xedcula"),r.qZA(),r.qZA(),r.TgZ(20,"ion-col",11),r._UZ(21,"ion-input",12),r.YNc(22,h,2,0,"span",13),r.qZA(),r.qZA(),r.TgZ(23,"ion-row",9),r.TgZ(24,"ion-col",10),r.TgZ(25,"ion-label"),r._uU(26,"Modelo"),r.qZA(),r.qZA(),r.TgZ(27,"ion-col",14),r._UZ(28,"ion-input",15),r.YNc(29,R,2,0,"span",13),r.qZA(),r.qZA(),r.TgZ(30,"ion-row",9),r.TgZ(31,"ion-col",10),r.TgZ(32,"ion-label"),r._uU(33,"Marca"),r.qZA(),r.qZA(),r.TgZ(34,"ion-col",14),r._UZ(35,"ion-input",16),r.YNc(36,A,2,0,"span",13),r.qZA(),r.qZA(),r.TgZ(37,"ion-row",9),r.TgZ(38,"ion-col",10),r.TgZ(39,"ion-label"),r._uU(40,"Cliente"),r.qZA(),r.qZA(),r.TgZ(41,"ion-col",17),r._UZ(42,"ion-input",18),r.YNc(43,C,2,0,"span",13),r.qZA(),r.qZA(),r.TgZ(44,"ion-row",9),r.TgZ(45,"ion-col",19),r._uU(46," Reparado "),r.qZA(),r.TgZ(47,"ion-col",20),r.TgZ(48,"div",21),r.YNc(49,q,1,0,"ion-icon",22),r.qZA(),r.qZA(),r.qZA(),r.TgZ(50,"ion-row",9),r.TgZ(51,"ion-col",23),r.TgZ(52,"ion-button",24),r.NdJ("click",function(){return o.editCarRepair()}),r._uU(53," Guardar "),r.qZA(),r.qZA(),r.TgZ(54,"ion-col",23),r.TgZ(55,"ion-button",25),r.NdJ("click",function(){return o.closeModal()}),r._uU(56," Cancelar "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&i&&(r.Q6J("translucent",!0),r.xp6(4),r.Q6J("fullscreen",!0),r.xp6(2),r.Q6J("formGroup",o.formCarRepair),r.xp6(7),r.hij("Fecha de Alta: ",o.spanishDateOrder,""),r.xp6(9),r.Q6J("ngIf",o.formCarRepair.get("carPlate").invalid&&o.formCarRepair.get("carPlate").touched),r.xp6(7),r.Q6J("ngIf",o.formCarRepair.get("model").invalid&&o.formCarRepair.get("model").touched),r.xp6(7),r.Q6J("ngIf",o.formCarRepair.get("brandCar").invalid&&o.formCarRepair.get("brandCar").touched),r.xp6(7),r.Q6J("ngIf",o.formCarRepair.get("clienteName").invalid&&o.formCarRepair.get("clienteName").touched),r.xp6(6),r.Q6J("ngIf",!o.carRepair.repaired),r.xp6(3),r.Q6J("disabled",o.formCarRepair.invalid))},directives:[n.Gu,n.sr,n.wd,n.W2,a._Y,a.JL,a.sg,n.jY,n.Nd,n.wI,n.Ie,n.yW,n.d8,n.Q$,n.pK,n.j9,a.JJ,a.u,a.Q7,f.O5,n.YG,n.x4,n.QI,n.Sm,n.gu],styles:['.body[_ngcontent-%COMP%]{background:#d0e5f0!important;background-size:cover;min-height:100%}.formulario[_ngcontent-%COMP%]{margin-top:1.5%;padding:2%;border-top:2px double gray;border:1px solid;border-color:"medium";border-radius:2.5rem;background-color:#fff;margin-bottom:4%}.button[_ngcontent-%COMP%]{--background: #4083cc;color:#fff}.button2[_ngcontent-%COMP%]{--background: #ff8282;color:#fff}.customInput[_ngcontent-%COMP%]{border:1px solid gray;border-color:"primary";border-radius:2.5rem}.secundaryInput[_ngcontent-%COMP%]{margin-left:5%}.date[_ngcontent-%COMP%]{margin-left:20%}.buttonDate[_ngcontent-%COMP%]{background-color:#717499}ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}ion-input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}']}),t})()}}]);