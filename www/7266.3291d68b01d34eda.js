"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7266],{7266:(G,d,s)=>{s.r(d),s.d(d,{GifCreatePageModule:()=>C});var f=s(6019),r=s(9010),n=s(2651),l=s(8725),c=s(4762),e=s(865),m=s(4483),p=s(371);function h(i,a){if(1&i&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e.TgZ(2,"ion-card"),e._UZ(3,"ion-img",23),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",t.img)}}function Z(i,a){1&i&&(e.TgZ(0,"p",24),e._uU(1," *Campo obligatorio. Debe introducir entre 3 y 50 caracteres. "),e.qZA())}function T(i,a){1&i&&(e.TgZ(0,"p",24),e._uU(1," *Campo obligatorio. El valor m\xednimo es 1 punto. "),e.qZA())}function A(i,a){1&i&&(e.TgZ(0,"p",24),e._uU(1," *Campo obligatorio. Debe seleccionar un archivo v\xe1lido para imagen (png, jpg, etc.). "),e.qZA())}const b=[{path:"",component:(()=>{class i{constructor(t,o,g,u){this.gs=t,this.fb=o,this.uts=g,this.router=u,this.file=null,this.formGift=this.fb.group({name:["",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(50)]],points:["",[r.kI.required,r.kI.min(1),r.kI.pattern("[0-9]+")]]})}create(){return(0,c.mG)(this,void 0,void 0,function*(){if(this.formGift.get("points").value>0){if(yield this.uts.presentLoading(),this.extension&&("image/jpg"==this.extension||"image/jpeg"==this.extension||"image/png"==this.extension)){let t={name:this.formGift.get("name").value,points:this.formGift.get("points").value,available:this.toggle.checked,picture:"",exchangeGifts:[]};t=yield this.gs.createOrUpdate(t,this.file),t.id?(this.gs.added=!0,this.formGift.reset(),this.uts.presentToast("El regalo se ha creado correctamente.","success","checkmark-circle-outline")):this.uts.presentToast("Un error ha surgido al intentar crear el regalo.","danger","ban")}yield this.uts.hideLoading()}else this.uts.presentToast("Los puntos deben ser mayores de 0.","danger","ban")})}test_Update(){return(0,c.mG)(this,void 0,void 0,function*(){let t=yield this.gs.getAll(),o=t[t.length-1];o.name="hola1",null!=t&&(o=yield this.gs.createOrUpdate(o,this.file),this.img="https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/"+o.picture)})}test_Delete(){return(0,c.mG)(this,void 0,void 0,function*(){yield this.gs.getAll()})}changeListener(t){try{if(t){let o=t.target.files[0].type.toString();"image/jpeg"==o||"image/png"==o?(this.file=t.target.files[0],this.extension=this.file.type,this.img=URL.createObjectURL(this.file),this.errorMsg=!1):(this.file=null,this.errorMsg=!0)}}catch(o){this.errorMsg=!0,this.file=null}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.R),e.Y36(r.qu),e.Y36(p.f),e.Y36(l.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gif-create"]],viewQuery:function(t,o){if(1&t&&e.Gf(n.ho,5),2&t){let g;e.iGM(g=e.CRH())&&(o.toggle=g.first)}},decls:49,vars:8,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],["class","ion-padding",4,"ngIf"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["sizeSm","1","sizeLg","1"],["sizeSm","11","sizeLg","11"],["type","text","formControlName","name",1,"customInput"],["style","color:red;",4,"ngIf"],["type","number","formControlName","points",1,"customInput"],["sizeSm","9","sizeLg","1.5"],["sizeSm","3","sizeLg","9.5  "],["lines","none"],["size","12"],["type","file","accept",".jpg,.jpeg,.png",3,"change"],["size","6"],["expand","block","shape","round","routerLink","/tab-administrator/gift/list",1,"button",2,"margin-top","2% !important"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],[1,"ion-padding"],[1,"center"],[3,"src"],[2,"color","red"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title"),e._uU(3," Crear Regalo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"div",3),e.YNc(6,h,4,1,"div",4),e.TgZ(7,"form",5),e.TgZ(8,"div",6),e.TgZ(9,"ion-grid"),e.TgZ(10,"ion-row",7),e.TgZ(11,"ion-col",8),e.TgZ(12,"ion-label"),e._uU(13,"Nombre:"),e.qZA(),e.qZA(),e.TgZ(14,"ion-col",9),e._UZ(15,"ion-input",10),e.qZA(),e.qZA(),e.TgZ(16,"ion-row",7),e.TgZ(17,"ion-col"),e.YNc(18,Z,2,0,"p",11),e.qZA(),e.qZA(),e.TgZ(19,"ion-row",7),e.TgZ(20,"ion-col",8),e.TgZ(21,"ion-label"),e._uU(22,"Puntos:"),e.qZA(),e.qZA(),e.TgZ(23,"ion-col",9),e._UZ(24,"ion-input",12),e.qZA(),e.qZA(),e.TgZ(25,"ion-row",7),e.TgZ(26,"ion-col"),e.YNc(27,T,2,0,"p",11),e.qZA(),e.qZA(),e.TgZ(28,"ion-row",7),e.TgZ(29,"ion-col",13),e._uU(30," Disponible: "),e.qZA(),e.TgZ(31,"ion-col",14),e.TgZ(32,"ion-item",15),e._uU(33," No"),e._UZ(34,"ion-toggle"),e._uU(35,"Si "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"ion-row",7),e.TgZ(37,"ion-col",16),e.TgZ(38,"ion-input",17),e.NdJ("change",function(u){return o.changeListener(u)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"ion-row",7),e.TgZ(40,"ion-col"),e.YNc(41,A,2,0,"p",11),e.qZA(),e.qZA(),e.TgZ(42,"ion-row",7),e.TgZ(43,"ion-col",18),e.TgZ(44,"ion-button",19),e._uU(45," Volver "),e.qZA(),e.qZA(),e.TgZ(46,"ion-col",18),e.TgZ(47,"ion-button",20),e.NdJ("click",function(){return o.create()}),e._uU(48," Crear Regalo "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngIf",null!=o.img),e.xp6(1),e.Q6J("formGroup",o.formGift),e.xp6(11),e.Q6J("ngIf",o.formGift.get("name").invalid&&o.formGift.get("name").touched),e.xp6(9),e.Q6J("ngIf",o.formGift.get("points").invalid&&o.formGift.get("points").touched),e.xp6(14),e.Q6J("ngIf",o.errorMsg),e.xp6(6),e.Q6J("disabled",o.formGift.invalid||null==o.file))},directives:[n.Gu,n.sr,n.wd,n.W2,f.O5,r._Y,r.JL,r.sg,n.jY,n.Nd,n.wI,n.Q$,n.pK,n.j9,r.JJ,r.u,n.as,n.Ie,n.ho,n.w,n.YG,n.YI,l.rH,n.PM,n.Xz],styles:[".body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:25%;width:25%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border:.1cm solid black}.button[_ngcontent-%COMP%]{--background: #22388c}.img[_ngcontent-%COMP%]{border:5px solid black}ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}ion-input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}"]}),i})()}];let v=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.Bz.forChild(b)],l.Bz]}),i})(),C=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[p.f],imports:[[f.ez,r.u5,n.Pc,v,r.u5,r.UX]]}),i})()}}]);