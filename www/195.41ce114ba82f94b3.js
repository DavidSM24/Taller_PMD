"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[195],{195:(x,f,s)=>{s.r(f),s.d(f,{GiftListPageModule:()=>v});var h=s(8816),c=s(6019),d=s(9010),e=s(2651),u=s(8725),g=s(4762),m=s(2112),t=s(865),p=s(9311),Z=s(4483),b=s(371);function P(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"ion-item",14),t.TgZ(1,"ion-label",15),t.TgZ(2,"div",16),t.TgZ(3,"ion-card",17),t._UZ(4,"ion-img",18),t.qZA(),t.qZA(),t.TgZ(5,"div",19),t.TgZ(6,"div",20),t.TgZ(7,"ion-text"),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"ion-text"),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"ion-button",21),t.NdJ("click",function(){t.CHM(i);const l=t.oxw().$implicit;return t.oxw().buy(l)}),t._uU(14,"Canjear Regalo"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const i=t.oxw().$implicit;t.xp6(4),t.MGl("src","https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/",i.picture,""),t.xp6(5),t.Oqu(i.name),t.xp6(3),t.hij("Precio: ",i.points," Puntos")}}function T(n,r){if(1&n&&(t.TgZ(0,"ion-item-sliding",9),t.YNc(1,P,15,3,"ion-item",13),t.qZA()),2&n){const i=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==i.available)}}const _=[{path:"",component:(()=>{class n{constructor(i,o,l,a,C){this.authS=i,this.gs=o,this.modalCtrl=l,this.uts=a,this.pt=C,this.gifts=[]}ngOnInit(){}ionViewWillEnter(){return(0,g.mG)(this,void 0,void 0,function*(){console.log(this.gs.added),this.gs.added?(this.reset(null),this.gs.added=!1):(this.niTems=Math.ceil(this.pt.height()/20+10),yield this.loadgifts())})}loadgifts(i){return(0,g.mG)(this,void 0,void 0,function*(){let o=[];0==this.gifts.length&&(yield this.uts.presentLoading(),this.infinite.disabled=!1,o=yield this.gs.getAllPaged(this.niTems,0),this.gifts=this.gifts.concat(o)),o.length<this.niTems&&(this.infinite.disabled=!0),i&&i.target.complete(),yield this.uts.hideLoading()})}infiniteLoad(i){return(0,g.mG)(this,void 0,void 0,function*(){let o=[];this.infinite.disabled||(o=yield this.gs.getAllPaged(this.niTems,this.gifts.length),this.gifts=this.gifts.concat(o),o.length<this.niTems&&(this.infinite.disabled=!0))})}reset(i){return(0,g.mG)(this,void 0,void 0,function*(){this.infinite.disabled=!1,this.gifts=[],this.loadgifts(i)})}logout(){this.authS.logout()}buy(i){return(0,g.mG)(this,void 0,void 0,function*(){try{const o=yield this.modalCtrl.create({component:m.c,cssClass:"fullscreen",componentProps:{giftsaw:i}});yield o.present();const l=yield o.onDidDismiss();if(null!=l.data){let a=this.gifts.indexOf(i);this.gifts[a]=l.data.newGift}}catch(o){console.log(o)}})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(p.e),t.Y36(Z.R),t.Y36(e.IN),t.Y36(b.f),t.Y36(e.t4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(e.ju,5),2&i){let l;t.iGM(l=t.CRH())&&(o.infinite=l.first)}},decls:19,vars:7,consts:[[3,"translucent"],["color","medium"],["slot","end",2,"margin-right","1%"],["slot","end","name","log-out-outline",1,"ico",2,"zoom","1.7","cursor","pointer",3,"click"],[1,"ion-align-items-center"],["placeholder","Escribe para encuentrar el Articulo que est\xe1s buscando...","inputmode","text","type","text","showCancelButton","always",3,"ngModel","ngModelChange"],[2,"background-color","white",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"body"],[1,"list"],["class","list",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText",""],["color","black",4,"ngIf"],["color","black"],[1,"shopbox"],[1,"leftside"],[1,"imcage"],[1,"image",3,"src"],[1,"rightside"],[1,"text"],["color","medium",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-title"),t._uU(3,"Articulos Disponibles"),t.qZA(),t.TgZ(4,"ion-buttons",2),t.TgZ(5,"ion-icon",3),t.NdJ("click",function(){return o.logout()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-toolbar",1),t.TgZ(7,"ion-row",4),t.TgZ(8,"ion-col"),t.TgZ(9,"ion-searchbar",5),t.NdJ("ngModelChange",function(a){return o.searchTerm=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"ion-content",6),t.TgZ(11,"ion-refresher",7),t.NdJ("ionRefresh",function(a){return o.reset(a)}),t._UZ(12,"ion-refresher-content"),t.qZA(),t.TgZ(13,"div",8),t.TgZ(14,"ion-list",9),t.YNc(15,T,2,1,"ion-item-sliding",10),t.ALo(16,"filter"),t.qZA(),t.TgZ(17,"ion-infinite-scroll",11),t.NdJ("ionInfinite",function(a){return o.infiniteLoad(a)}),t._UZ(18,"ion-infinite-scroll-content",12),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.Q6J("translucent",!1),t.xp6(9),t.Q6J("ngModel",o.searchTerm),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(5),t.Q6J("ngForOf",t.xi3(16,4,o.gifts,o.searchTerm)))},directives:[e.Gu,e.sr,e.wd,e.Sm,e.gu,e.Nd,e.wI,e.VI,e.j9,d.JJ,d.On,e.W2,e.nJ,e.Wo,e.q_,c.sg,e.ju,e.MB,e.td,c.O5,e.Ie,e.Q$,e.PM,e.Xz,e.yW,e.YG],pipes:[h.Z],styles:['ion-col[_ngcontent-%COMP%]{border-bottom:1px solid #4b4b4d}ion-col[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:#4b4b4d!important}.header-row[_ngcontent-%COMP%]{border-radius:0%;border:0px}.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:#fff!important;font-size:1.2rem;text-align:center}.row[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem}.ico[_ngcontent-%COMP%]{color:#fff}.body[_ngcontent-%COMP%]{background-color:#f5fbfe!important;font-family:"Roboto",sans-serif;color:#4b4b4d}ion-content[_ngcontent-%COMP%]{--background: #f5fbfe}.leftside[_ngcontent-%COMP%]{margin-left:5%;width:30%;float:left;height:15rem;display:table}.list[_ngcontent-%COMP%]{background-color:#f5fbfe}.rightside[_ngcontent-%COMP%]{width:65%;float:right;height:15rem;text-align:center;display:table}.text[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.imcage[_ngcontent-%COMP%]{width:15rem;max-width:200px;height:15rem;vertical-align:middle}.image[_ngcontent-%COMP%]{width:100%;max-width:200px;height:15rem;vertical-align:middle;box-shadow:inset;border-radius:25%}.shopbox[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #b3b3b3;border-radius:25px}ion-item[_ngcontent-%COMP%]{--inner-border-width: 0}']}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(_)],u.Bz]}),n})(),v=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,d.u5,e.Pc,M,h.h]]}),n})()}}]);