{"version":3,"file":"src_app_tab5_tab5_module_ts.js","mappings":"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","sources":["./src/app/services/exchange-gift.service.ts","./src/app/tab5/tab5-routing.module.ts","./src/app/tab5/tab5.module.ts","./src/app/tab5/tab5.page.ts","./src/app/tab5/tab5.page.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Agency } from '../models/Agency';\r\nimport { ExchangeGift } from '../models/ExchangeGift';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ExchangeGiftService {\r\n\r\n  endpoint: string = \"/exchangeGifts\";\r\n\r\n  URLDatabase: string;\r\n  constructor(public http: HttpClient) {\r\n    this.URLDatabase = environment.herokuConfig.url;\r\n   }\r\nprivate async getListData(endpoint: string): Promise<ExchangeGift[]> {\r\n    let users: ExchangeGift[] = [];\r\n\r\n    return new Promise(resolve => {\r\n      this.http.get(endpoint).subscribe((data: any[]) => {\r\n\r\n        if (data != null && data.length > 0) {\r\n\r\n          for (let miexgift of data) {\r\n            const tmp: ExchangeGift = {\r\n              id: miexgift.id,\r\n              dateExchange: miexgift.dateExchange,\r\n              observations:miexgift.observations,\r\n              delivered: miexgift.delivered,\r\n              agency: miexgift.agency,\r\n              gift: miexgift.gift\r\n            }\r\n\r\n            users.push(tmp);\r\n          }\r\n        }\r\n        \r\n        resolve(users);\r\n      }, error => {\r\n        \r\n      });\r\n    });\r\n  }\r\n  public getAllPaged(element: number, page: number):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint + \"/element/\" + element + \"/page/\" + page);\r\n  }\r\n  public getAll():Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint);\r\n  }\r\n\r\n  public getByDateFilter(date:string):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint+ \"/date/\"+ date);\r\n  }\r\n\r\n  public getByPoints(points:string):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint+ \"/points/\"+ points);\r\n  }\r\n\r\n  public getByAgencyUsername(auname:string):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint+ \"/auname/\"+ auname);\r\n  }\r\n\r\n  public async getById(id: number): Promise<ExchangeGift> {\r\n\r\n    let exchangegift: ExchangeGift = null;\r\n\r\n    return new Promise(resolve => {\r\n\r\n      this.http.get(this.URLDatabase + this.endpoint + \"/id/\" + id).subscribe((miexgift: any) => {\r\n\r\n        if (miexgift.id) {\r\n          const tmp: ExchangeGift = {\r\n            id: miexgift.id,\r\n            dateExchange: miexgift.dateExchange,\r\n              observations:miexgift.observations,\r\n              delivered: miexgift.delivered,\r\n              agency: miexgift.agency,\r\n              gift: miexgift.gift\r\n          }\r\n          exchangegift = tmp;\r\n        }\r\n        \r\n        resolve(exchangegift);\r\n      }, error => {\r\n        \r\n        \r\n        resolve(exchangegift);\r\n      });\r\n    });\r\n  }\r\n  public getByDeliveredPaged(delivered:Boolean, element: number, page: number):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint +\"/delivered/\"+ delivered + \"/element/\" + element + \"/paged/\" + page);\r\n  }\r\n\r\n  public getByGiftName(gname:string):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint +\"/gname/\"+ gname);\r\n  }\r\n\r\n  public getByAgencyPaged(agency:Agency, element: number, page: number):Promise<ExchangeGift[]>{\r\n    if(agency!=null){\r\n      return this.getListData(this.URLDatabase + this.endpoint +\"/id_agency/\"+ agency.id + \"/element/\" + element + \"/paged/\" + page);\r\n    }else{\r\n      let result:Promise<ExchangeGift[]>\r\n      return result;\r\n    }\r\n\r\n  }\r\n  public async createOrUpdate(exgift:ExchangeGift):Promise<ExchangeGift>{\r\n\r\n    \r\n\r\n    if (exgift != null) {\r\n\r\n      const body={\r\n        id:exgift.id,\r\n        dateExchange:exgift.dateExchange,\r\n        observations:exgift.observations,\r\n        delivered:exgift.delivered,\r\n        agency:{\r\n          id:exgift.agency.id\r\n        },\r\n        gift:{\r\n          id:exgift.gift.id\r\n        }\r\n      }\r\n\r\n      return new Promise(resolve => {\r\n\r\n        this.http.post(this.URLDatabase + this.endpoint, body).subscribe((data: any) => {\r\n          exgift.id=data.id;\r\n          resolve(exgift);\r\n        }, error => {\r\n          \r\n          resolve(null);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  public async delete(exgift:ExchangeGift):Promise<boolean>{\r\n\r\n    if(exgift!=null){\r\n      const body={\r\n        id:exgift.id\r\n      }\r\n\r\n      return new Promise(resolve => {\r\n        this.http.delete<ExchangeGift>(this.URLDatabase + this.endpoint, {body}).subscribe(() => {\r\n          resolve(true);\r\n        }, error => {\r\n          \r\n          resolve(false);\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { Tab5Page } from './tab5.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab5Page\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class Tab5PageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { Tab5PageRoutingModule } from './tab5-routing.module';\r\n\r\nimport { Tab5Page } from './tab5.page';\r\nimport { AgencyService } from '../services/agency.service';\r\nimport { GiftService } from '../services/gift.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    Tab5PageRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  providers: [AgencyService, GiftService],\r\n  declarations: [Tab5Page]\r\n})\r\nexport class Tab5PageModule {}\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { Agency } from '../models/Agency';\r\nimport { ExchangeGift } from '../models/ExchangeGift';\r\nimport { ExchangeGiftService } from '../services/exchange-gift.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { UtilService } from '../services/util.service';\r\nimport { IonToggle, PickerController, PickerOptions } from '@ionic/angular';\r\nimport { Gift } from '../models/Gift';\r\nimport { AgencyService } from '../services/agency.service';\r\nimport { GiftService } from '../services/gift.service';\r\n@Component({\r\n  selector: 'app-tab5',\r\n  templateUrl: './tab5.page.html',\r\n  styleUrls: ['./tab5.page.scss'],\r\n})\r\nexport class Tab5Page {\r\n  public formExchange:FormGroup;\r\n  public mygift:Gift=null;\r\n  public myagency:Agency;\r\n  public gifts: Gift[];\r\n  public agencies: Agency[];\r\n\r\n  @ViewChild(IonToggle) toggle: IonToggle;\r\n  constructor(private exser: ExchangeGiftService,\r\n    private fb: FormBuilder,\r\n    private uts:UtilService,\r\n    private pickerController:PickerController,\r\n    private giftserv:GiftService,\r\n    private ageserv:AgencyService) {\r\n\r\n      this.formExchange=this.fb.group({\r\n        dateEchange: [\"\",Validators.required],\r\n        observations: [\"\",Validators.required]\r\n      });\r\n    }\r\n    public async CreateExgift(): Promise<void> {\r\n      if(this.mygift!=null&&this.myagency!=null){\r\n\r\n\r\n      let newExchange: ExchangeGift = {\r\n        dateExchange: this.formExchange.get(\"dateEchange\").value,\r\n        observations: this.formExchange.get(\"observations\").value,\r\n        delivered: this.toggle.checked,\r\n        agency: this.myagency,\r\n        gift: this.mygift\r\n      }\r\n\r\n      this.uts.presentLoading();\r\n\r\n      try{\r\n        await this.exser.createOrUpdate(newExchange);\r\n        this.uts.hideLoading;\r\n        this.uts.presentToast(\"Regalo agregada correctamente\",\"success\",\"checkmark-circle-outline\");\r\n        this.formExchange.reset();\r\n      }catch(err){\r\n\r\n        this.uts.hideLoading;\r\n        this.uts.presentToast(\"Error agregando Regalo\",\"danger\",'ban');\r\n      }\r\n    }\r\n  }\r\n\r\n  async showGiftsPicker() {\r\n    let options: PickerOptions = {\r\n      buttons: [\r\n        {\r\n          text: \"Cancel\",\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text:'Ok',\r\n          handler:(value:any) => {\r\n            this.mygift=value.Regalos.value;\r\n          }\r\n        }\r\n      ],\r\n      columns:[{\r\n        name:'Regalos',\r\n        options:this.getGiftColumnOptions()\r\n      }]\r\n    };\r\n\r\n    let picker = await this.pickerController.create(options);\r\n    picker.present()\r\n  }\r\n\r\n  getGiftColumnOptions(){\r\n    let options = [];\r\n    this.gifts.forEach(x => {\r\n      options.push({text:x.name,value:x});\r\n    });\r\n    return options;\r\n  }\r\n  async ionViewWillEnter() {\r\n\r\n    this.uts.presentLoading();\r\n    this.gifts=await this.giftserv.getAll();\r\n    this.agencies=await this.ageserv.getAll();\r\n\r\n    if(this.agencies.length<=0&&this.gifts.length<=0){\r\n      this.uts.presentToast('','danger','ban');\r\n    }\r\n    this.uts.hideLoading();\r\n    \r\n    \r\n  }\r\n\r\n  async showAgenciesPicker() {\r\n    let options: PickerOptions = {\r\n      buttons: [\r\n        {\r\n          text: \"Cancel\",\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text:'Ok',\r\n          handler:(value:any) => {\r\n            this.myagency=value.Agencias.value;\r\n          }\r\n        }\r\n      ],\r\n      columns:[{\r\n        name:'Agencias',\r\n        options:this.getAgenciesColumnOptions()\r\n      }]\r\n    };\r\n\r\n    let picker = await this.pickerController.create(options);\r\n    picker.present()\r\n  }\r\n\r\n  getAgenciesColumnOptions(){\r\n    let options = [];\r\n    this.agencies.forEach(x => {\r\n      options.push({text:x.zipCode,value:x});\r\n    });\r\n    return options;\r\n  }\r\n}\r\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>\\r\\n      Prueba Exchanges Gift\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <div class=\\\"body\\\">\\r\\n    <form [formGroup]=\\\"formExchange\\\" class=\\\"ion-padding\\\">\\r\\n      <div class=\\\"formulario\\\">\\r\\n      <ion-grid>\\r\\n        \\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"1\\\" sizeLg=\\\"1\\\">\\r\\n            <ion-label>Fecha de Intercambio:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"11\\\" sizeLg=\\\"11\\\">\\r\\n            <ion-input formControlName=\\\"dateEchange\\\" class=\\\"customInput\\\" type=\\\"date\\\"></ion-input>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"1\\\" sizeLg=\\\"1\\\">\\r\\n            <ion-label>Observaciones:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"11\\\" sizeLg=\\\"11\\\">\\r\\n            <ion-textarea formControlName=\\\"observations\\\" class=\\\"customInput\\\" type=\\\"text\\\"></ion-textarea>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"9\\\" sizeLg=\\\"1\\\">\\r\\n            Entregado:\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"3\\\" sizeLg=\\\"11  \\\">\\r\\n            <ion-item  lines=\\\"none\\\">\\r\\n              No<ion-toggle></ion-toggle>Si\\r\\n           </ion-item>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-label>Agencia:</ion-label>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showAgenciesPicker()\\\" *ngIf=\\\"this.myagency==null\\\">\\r\\n              Seleccionar\\r\\n            </ion-button>\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showAgenciesPicker()\\\" *ngIf=\\\"this.myagency!=null\\\">\\r\\n              {{this.myagency.zipCode}}\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-label>Regalo:</ion-label>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showGiftsPicker()\\\" *ngIf=\\\"this.mygift==null\\\">\\r\\n              Seleccionar\\r\\n            </ion-button>\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showGiftsPicker()\\\" *ngIf=\\\"this.mygift!=null\\\">\\r\\n              {{this.mygift.name}}\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <ion-button (click)=\\\"CreateExgift()\\\" expand=\\\"block\\\" shape=\\\"round\\\"  style=\\\"margin-top: 2% !important;\\\" class=\\\"button\\\">\\r\\n              Crear Regalo Intercambio\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </div>\\r\\n    </form>\\r\\n</div>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}