"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7266],{7266:(G,d,s)=>{s.r(d),s.d(d,{GifCreatePageModule:()=>A});var f=s(6019),r=s(9010),n=s(2651),g=s(8725),c=s(4762),e=s(865),m=s(4483),p=s(371);function h(o,a){if(1&o&&(e.TgZ(0,"div",20),e.TgZ(1,"div",21),e.TgZ(2,"ion-card"),e._UZ(3,"ion-img",22),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("src",t.img)}}const Z=[{path:"",component:(()=>{class o{constructor(t,i,l,u){this.gs=t,this.fb=i,this.uts=l,this.router=u,this.file=null,this.formGift=this.fb.group({name:["",r.kI.required],points:["",r.kI.required]})}create(){return(0,c.mG)(this,void 0,void 0,function*(){if(this.formGift.get("points").value>0){if(yield this.uts.presentLoading(),this.extension&&("image/jpg"==this.extension||"image/jpeg"==this.extension||"image/png"==this.extension)){console.log("entro?");let t={name:this.formGift.get("name").value,points:this.formGift.get("points").value,available:this.toggle.checked,picture:"",exchangeGifts:[]};t=yield this.gs.createOrUpdate(t,this.file),t.id?(this.gs.added=!0,console.log(this.gs.added),this.formGift.reset(),this.uts.presentToast("El regalo se ha creado correctamente.","success","checkmark-circle-outline")):this.uts.presentToast("Un error ha surgido al intentar crear el regalo.","danger","ban")}yield this.uts.hideLoading()}else this.uts.presentToast("Los puntos deben ser mayores de 0.","danger","ban")})}test_Update(){return(0,c.mG)(this,void 0,void 0,function*(){let t=yield this.gs.getAll(),i=t[t.length-1];i.name="hola1",console.log(i),null!=t&&(i=yield this.gs.createOrUpdate(i,this.file),console.log(i),this.img="https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/"+i.picture)})}test_Delete(){return(0,c.mG)(this,void 0,void 0,function*(){let t=yield this.gs.getAll(),i=t[t.length-1];console.log(i),null!=t&&console.log(yield this.gs.delete(i))})}changeListener(t){try{if(t){let i=t.target.files[0].type.toString();"image/jpeg"==i||"image/png"==i?(this.file=t.target.files[0],this.extension=this.file.type,this.img=URL.createObjectURL(this.file)):this.file=null}}catch(i){this.file=null}console.log(this.file.type)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.R),e.Y36(r.qu),e.Y36(p.f),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-gif-create"]],viewQuery:function(t,i){if(1&t&&e.Gf(n.ho,5),2&t){let l;e.iGM(l=e.CRH())&&(i.toggle=l.first)}},decls:40,vars:5,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],["class","ion-padding",4,"ngIf"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["sizeSm","1","sizeLg","1"],["sizeSm","11","sizeLg","11"],["type","text","formControlName","name",1,"customInput"],["type","number","formControlName","points",1,"customInput"],["sizeSm","9","sizeLg","1.5"],["sizeSm","3","sizeLg","9.5  "],["lines","none"],["size","12"],["type","file","accept",".jpg,.jpeg,.png",3,"change"],["size","6"],["expand","block","shape","round","routerLink","/tab-administrator/gift/list",1,"button",2,"margin-top","2% !important"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],[1,"ion-padding"],[1,"center"],[3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title"),e._uU(3," Crear Regalo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"div",3),e.YNc(6,h,4,1,"div",4),e.TgZ(7,"form",5),e.TgZ(8,"div",6),e.TgZ(9,"ion-grid"),e.TgZ(10,"ion-row",7),e.TgZ(11,"ion-col",8),e.TgZ(12,"ion-label"),e._uU(13,"Nombre:"),e.qZA(),e.qZA(),e.TgZ(14,"ion-col",9),e._UZ(15,"ion-input",10),e.qZA(),e.qZA(),e.TgZ(16,"ion-row",7),e.TgZ(17,"ion-col",8),e.TgZ(18,"ion-label"),e._uU(19,"Puntos:"),e.qZA(),e.qZA(),e.TgZ(20,"ion-col",9),e._UZ(21,"ion-input",11),e.qZA(),e.qZA(),e.TgZ(22,"ion-row",7),e.TgZ(23,"ion-col",12),e._uU(24," Disponible: "),e.qZA(),e.TgZ(25,"ion-col",13),e.TgZ(26,"ion-item",14),e._uU(27," No"),e._UZ(28,"ion-toggle"),e._uU(29,"Si "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"ion-row",7),e.TgZ(31,"ion-col",15),e.TgZ(32,"ion-input",16),e.NdJ("change",function(u){return i.changeListener(u)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"ion-row",7),e.TgZ(34,"ion-col",17),e.TgZ(35,"ion-button",18),e._uU(36," Cancelar "),e.qZA(),e.qZA(),e.TgZ(37,"ion-col",17),e.TgZ(38,"ion-button",19),e.NdJ("click",function(){return i.create()}),e._uU(39," Crear Regalo "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngIf",null!=i.img),e.xp6(1),e.Q6J("formGroup",i.formGift),e.xp6(31),e.Q6J("disabled",i.formGift.invalid||null==i.file))},directives:[n.Gu,n.sr,n.wd,n.W2,f.O5,r._Y,r.JL,r.sg,n.jY,n.Nd,n.wI,n.Q$,n.pK,n.j9,r.JJ,r.u,n.as,n.Ie,n.ho,n.w,n.YG,n.YI,g.rH,n.PM,n.Xz],styles:[".body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:25%;width:25%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border:.1cm solid black}.button[_ngcontent-%COMP%]{--background: #22388c}.img[_ngcontent-%COMP%]{border:5px solid black}"]}),o})()}];let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(Z)],g.Bz]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[p.f],imports:[[f.ez,r.u5,n.Pc,T,r.u5,r.UX]]}),o})()}}]);