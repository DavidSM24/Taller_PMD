{"version":3,"file":"default-src_app_user_gift_gift-saw_gift-saw_page_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAkD;AACP;AACgB;IAO9C,mBAAmB,SAAnB,mBAAmB;IAK9B,YAAmB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAHnC,aAAQ,GAAW,gBAAgB,CAAC;QAIlC,IAAI,CAAC,WAAW,GAAG,sFAA4B,CAAC;IACjD,CAAC;IACU,WAAW,CAAC,QAAgB;;YACtC,IAAI,KAAK,GAAmB,EAAE,CAAC;YAE/B,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;gBAC3B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,IAAW,EAAE,EAAE;oBAEhD,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;wBAEnC,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE;4BACzB,MAAM,GAAG,GAAiB;gCACxB,EAAE,EAAE,QAAQ,CAAC,EAAE;gCACf,YAAY,EAAE,QAAQ,CAAC,YAAY;gCACnC,YAAY,EAAC,QAAQ,CAAC,YAAY;gCAClC,SAAS,EAAE,QAAQ,CAAC,SAAS;gCAC7B,MAAM,EAAE,QAAQ,CAAC,MAAM;gCACvB,IAAI,EAAE,QAAQ,CAAC,IAAI;6BACpB;4BAED,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;yBACjB;qBACF;oBAED,OAAO,CAAC,KAAK,CAAC,CAAC;gBACjB,CAAC,EAAE,KAAK,CAAC,EAAE;gBAEX,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IACM,WAAW,CAAC,OAAe,EAAE,IAAY;QAC9C,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAG,WAAW,GAAG,OAAO,GAAG,QAAQ,GAAG,IAAI,CAAC,CAAC;IACtG,CAAC;IACM,MAAM;QACX,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC5D,CAAC;IAEM,eAAe,CAAC,IAAW;QAChC,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAE,QAAQ,GAAE,IAAI,CAAC,CAAC;IAC5E,CAAC;IAEM,WAAW,CAAC,MAAa;QAC9B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAE,UAAU,GAAE,MAAM,CAAC,CAAC;IAChF,CAAC;IAEM,mBAAmB,CAAC,MAAa;QACtC,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAE,UAAU,GAAE,MAAM,CAAC,CAAC;IAChF,CAAC;IAEY,OAAO,CAAC,EAAU;;YAE7B,IAAI,YAAY,GAAiB,IAAI,CAAC;YAEtC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;gBAE3B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAG,MAAM,GAAG,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,QAAa,EAAE,EAAE;oBAExF,IAAI,QAAQ,CAAC,EAAE,EAAE;wBACf,MAAM,GAAG,GAAiB;4BACxB,EAAE,EAAE,QAAQ,CAAC,EAAE;4BACf,YAAY,EAAE,QAAQ,CAAC,YAAY;4BACjC,YAAY,EAAC,QAAQ,CAAC,YAAY;4BAClC,SAAS,EAAE,QAAQ,CAAC,SAAS;4BAC7B,MAAM,EAAE,QAAQ,CAAC,MAAM;4BACvB,IAAI,EAAE,QAAQ,CAAC,IAAI;yBACtB;wBACD,YAAY,GAAG,GAAG,CAAC;qBACpB;oBAED,OAAO,CAAC,YAAY,CAAC,CAAC;gBACxB,CAAC,EAAE,KAAK,CAAC,EAAE;oBAGT,OAAO,CAAC,YAAY,CAAC,CAAC;gBACxB,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IACM,mBAAmB,CAAC,SAAiB,EAAE,OAAe,EAAE,IAAY;QACzE,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAE,aAAa,GAAE,SAAS,GAAG,WAAW,GAAG,OAAO,GAAG,SAAS,GAAG,IAAI,CAAC,CAAC;IACjI,CAAC;IAEM,aAAa,CAAC,KAAY;QAC/B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAE,SAAS,GAAE,KAAK,CAAC,CAAC;IAC9E,CAAC;IAEM,gBAAgB,CAAC,MAAa,EAAE,OAAe,EAAE,IAAY;QAClE,IAAG,MAAM,IAAE,IAAI,EAAC;YACd,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAE,aAAa,GAAE,MAAM,CAAC,EAAE,GAAG,WAAW,GAAG,OAAO,GAAG,SAAS,GAAG,IAAI,CAAC,CAAC;SAChI;aAAI;YACH,IAAI,MAA8B;YAClC,OAAO,MAAM,CAAC;SACf;IAEH,CAAC;IACY,cAAc,CAAC,MAAmB;;YAI7C,IAAI,MAAM,IAAI,IAAI,EAAE;gBAElB,MAAM,IAAI,GAAC;oBACT,EAAE,EAAC,MAAM,CAAC,EAAE;oBACZ,YAAY,EAAC,MAAM,CAAC,YAAY;oBAChC,YAAY,EAAC,MAAM,CAAC,YAAY;oBAChC,SAAS,EAAC,MAAM,CAAC,SAAS;oBAC1B,MAAM,EAAC;wBACL,EAAE,EAAC,MAAM,CAAC,MAAM,CAAC,EAAE;qBACpB;oBACD,IAAI,EAAC;wBACH,EAAE,EAAC,MAAM,CAAC,IAAI,CAAC,EAAE;qBAClB;iBACF;gBAED,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;oBAE3B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;wBAC7E,MAAM,CAAC,EAAE,GAAC,IAAI,CAAC,EAAE,CAAC;wBAClB,OAAO,CAAC,MAAM,CAAC,CAAC;oBAClB,CAAC,EAAE,KAAK,CAAC,EAAE;wBAET,OAAO,CAAC,IAAI,CAAC,CAAC;oBAChB,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;aACJ;QACH,CAAC;KAAA;IAEY,MAAM,CAAC,MAAmB;;YAErC,IAAG,MAAM,IAAE,IAAI,EAAC;gBACd,MAAM,IAAI,GAAC;oBACT,EAAE,EAAC,MAAM,CAAC,EAAE;iBACb;gBAED,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;oBAC3B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAe,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;wBACtF,OAAO,CAAC,IAAI,CAAC,CAAC;oBAChB,CAAC,EAAE,KAAK,CAAC,EAAE;wBAET,OAAO,CAAC,KAAK,CAAC,CAAC;oBACjB,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;aACJ;QAGH,CAAC;KAAA;CACF;;YAhKQ,4DAAU;;AASN,mBAAmB;IAH/B,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,mBAAmB,CAuJ/B;AAvJ+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTmC;AAEC;AACY;AACjB;AAEA;AACd;AAEQ;AACF;IAQ1C,WAAW,SAAX,WAAW;IAItB,YAAoB,SAA0B,EACrC,IAAiB,EAChB,GAAgB,EAChB,KAA0B,EAC1B,EAAe,EACf,QAAkB,EAClB,EAAiB;QANP,cAAS,GAAT,SAAS,CAAiB;QACrC,SAAI,GAAJ,IAAI,CAAa;QAChB,QAAG,GAAH,GAAG,CAAa;QAChB,UAAK,GAAL,KAAK,CAAqB;QAC1B,OAAE,GAAF,EAAE,CAAa;QACf,aAAQ,GAAR,QAAQ,CAAU;QAClB,OAAE,GAAF,EAAE,CAAe;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC5B,aAAa,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;SAC3C,CAAC,CAAC;IAEL,CAAC;IAED,QAAQ;QAKN,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;IAClC,CAAC;IACK,gBAAgB;;YACpB,IAAI,CAAC,GAAG,GAAG,gEAAgE,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QACrG,CAAC;KAAA;IACD,KAAK;QACH,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAIY,QAAQ;;YACnB,IAAI,UAAU,GAAG,IAAI,IAAI,CAAC;YAC1B,IAAI,OAAO;YAGX,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;YAE5D,IAAI;gBACF,MAAM,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;gBAChC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;oBAIpD,IAAI,WAAW,GAAiB;wBAC9B,YAAY,EAAE,OAAO;wBACrB,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK;wBACtD,SAAS,EAAE,KAAK;wBAChB,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;wBACxB,IAAI,EAAE,IAAI,CAAC,OAAO;qBACnB;oBAGD,IAAI;wBACF,IAAI,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;wBAE1D,IAAI,CAAC,MAAM,EAAE;4BACX,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,6FAA6F,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;yBACvI;6BAEI;4BACH,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,+BAA+B,EAAE,SAAS,EAAE,0BAA0B,CAAC,CAAC;4BAC9F,IAAI,GAAG,GAAW,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;4BAC7D,IAAI,CAAC,EAAE,CAAC,KAAK,GAAC,IAAI,CAAC;4BAEnB,IAAI;gCACF,IAAI,CAAC,GAAG;oCAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,8CAA8C,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;;oCAC5F,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;6BAE7B;4BAAC,OAAO,KAAK,EAAE;gCACd,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,8CAA8C,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;6BAExF;yBACF;qBAGF;oBAAC,OAAO,GAAG,EAAE;wBAGZ,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,wBAAwB,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;qBAClE;iBACF;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC;aAE5B;YACD,MAAM,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;YAC7B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;gBACrB,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;aAC1B,CAAC;QACJ,CAAC;KAAA;CACF;;YAxGQ,2DAAe;YADf,+DAAW;YAFX,+DAAW;YADX,gFAAmB;YADR,uDAAW;YAQtB,qDAAQ;YAVR,mEAAa;;;sBAmBnB,iDAAK;;AADK,WAAW;IANvB,yDAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,oLAAmC;QAEnC,SAAS,EAAE,CAAC,qDAAQ,CAAC;;KACtB,CAAC;GACW,WAAW,CA6FvB;AA7FuB;;;;;;;;;;;;;;;AClBxB,iEAAe,8vBAA8vB,mBAAmB,8RAA8R,sBAAsB,8tBAA8tB,wQAAwQ,yOAAyO","sources":["./src/app/services/exchange-gift.service.ts","./src/app/user/gift/gift-saw/gift-saw.page.ts","./src/app/user/gift/gift-saw/gift-saw.page.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Agency } from '../models/Agency';\r\nimport { ExchangeGift } from '../models/ExchangeGift';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ExchangeGiftService {\r\n\r\n  endpoint: string = \"/exchangeGifts\";\r\n\r\n  URLDatabase: string;\r\n  constructor(public http: HttpClient) {\r\n    this.URLDatabase = environment.herokuConfig.url;\r\n   }\r\nprivate async getListData(endpoint: string): Promise<ExchangeGift[]> {\r\n    let users: ExchangeGift[] = [];\r\n\r\n    return new Promise(resolve => {\r\n      this.http.get(endpoint).subscribe((data: any[]) => {\r\n\r\n        if (data != null && data.length > 0) {\r\n\r\n          for (let miexgift of data) {\r\n            const tmp: ExchangeGift = {\r\n              id: miexgift.id,\r\n              dateExchange: miexgift.dateExchange,\r\n              observations:miexgift.observations,\r\n              delivered: miexgift.delivered,\r\n              agency: miexgift.agency,\r\n              gift: miexgift.gift\r\n            }\r\n\r\n            users.push(tmp);\r\n          }\r\n        }\r\n        \r\n        resolve(users);\r\n      }, error => {\r\n        \r\n      });\r\n    });\r\n  }\r\n  public getAllPaged(element: number, page: number):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint + \"/element/\" + element + \"/page/\" + page);\r\n  }\r\n  public getAll():Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint);\r\n  }\r\n\r\n  public getByDateFilter(date:string):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint+ \"/date/\"+ date);\r\n  }\r\n\r\n  public getByPoints(points:string):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint+ \"/points/\"+ points);\r\n  }\r\n\r\n  public getByAgencyUsername(auname:string):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint+ \"/auname/\"+ auname);\r\n  }\r\n\r\n  public async getById(id: number): Promise<ExchangeGift> {\r\n\r\n    let exchangegift: ExchangeGift = null;\r\n\r\n    return new Promise(resolve => {\r\n\r\n      this.http.get(this.URLDatabase + this.endpoint + \"/id/\" + id).subscribe((miexgift: any) => {\r\n\r\n        if (miexgift.id) {\r\n          const tmp: ExchangeGift = {\r\n            id: miexgift.id,\r\n            dateExchange: miexgift.dateExchange,\r\n              observations:miexgift.observations,\r\n              delivered: miexgift.delivered,\r\n              agency: miexgift.agency,\r\n              gift: miexgift.gift\r\n          }\r\n          exchangegift = tmp;\r\n        }\r\n        \r\n        resolve(exchangegift);\r\n      }, error => {\r\n        \r\n        \r\n        resolve(exchangegift);\r\n      });\r\n    });\r\n  }\r\n  public getByDeliveredPaged(delivered:Boolean, element: number, page: number):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint +\"/delivered/\"+ delivered + \"/element/\" + element + \"/paged/\" + page);\r\n  }\r\n\r\n  public getByGiftName(gname:string):Promise<ExchangeGift[]>{\r\n    return this.getListData(this.URLDatabase + this.endpoint +\"/gname/\"+ gname);\r\n  }\r\n\r\n  public getByAgencyPaged(agency:Agency, element: number, page: number):Promise<ExchangeGift[]>{\r\n    if(agency!=null){\r\n      return this.getListData(this.URLDatabase + this.endpoint +\"/id_agency/\"+ agency.id + \"/element/\" + element + \"/paged/\" + page);\r\n    }else{\r\n      let result:Promise<ExchangeGift[]>\r\n      return result;\r\n    }\r\n\r\n  }\r\n  public async createOrUpdate(exgift:ExchangeGift):Promise<ExchangeGift>{\r\n\r\n    \r\n\r\n    if (exgift != null) {\r\n\r\n      const body={\r\n        id:exgift.id,\r\n        dateExchange:exgift.dateExchange,\r\n        observations:exgift.observations,\r\n        delivered:exgift.delivered,\r\n        agency:{\r\n          id:exgift.agency.id\r\n        },\r\n        gift:{\r\n          id:exgift.gift.id\r\n        }\r\n      }\r\n\r\n      return new Promise(resolve => {\r\n\r\n        this.http.post(this.URLDatabase + this.endpoint, body).subscribe((data: any) => {\r\n          exgift.id=data.id;\r\n          resolve(exgift);\r\n        }, error => {\r\n          \r\n          resolve(null);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  public async delete(exgift:ExchangeGift):Promise<boolean>{\r\n\r\n    if(exgift!=null){\r\n      const body={\r\n        id:exgift.id\r\n      }\r\n\r\n      return new Promise(resolve => {\r\n        this.http.delete<ExchangeGift>(this.URLDatabase + this.endpoint, {body}).subscribe(() => {\r\n          resolve(true);\r\n        }, error => {\r\n          \r\n          resolve(false);\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n  }\r\n}\r\n","import { AgencyService } from './../../../services/agency.service';\r\nimport { Agency } from './../../../models/Agency';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ExchangeGiftService } from './../../../services/exchange-gift.service';\r\nimport { UtilService } from './../../../services/util.service';\r\nimport { ExchangeGift } from './../../../models/ExchangeGift';\r\nimport { AuthService } from './../../../services/auth.service';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Gift } from './../../../models/Gift';\r\nimport { Component, OnInit, Input } from '@angular/core';\r\nimport { DatePipe, formatDate } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-gift-saw',\r\n  templateUrl: './gift-saw.page.html',\r\n  styleUrls: ['./gift-saw.page.scss'],\r\n  providers: [DatePipe]\r\n})\r\nexport class GiftSawPage implements OnInit {\r\n  @Input() giftsaw: Gift;\r\n  public img: string;\r\n  public formGift: FormGroup;\r\n  constructor(private modalCtrl: ModalController,\r\n    public auts: AuthService,\r\n    private uts: UtilService,\r\n    private exser: ExchangeGiftService,\r\n    private fb: FormBuilder,\r\n    private datePipe: DatePipe,\r\n    private as: AgencyService) {\r\n    this.formGift = this.fb.group({\r\n      observaciones: [\"\", [Validators.required]]\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n\r\n    \r\n    \r\n    this.img = this.giftsaw.picture;\r\n  }\r\n  async ionViewWillEnter() {\r\n    this.img = \"https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/\" + this.giftsaw.picture;\r\n  }\r\n  close() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n\r\n\r\n  public async purchase(): Promise<void> {\r\n    let actualdate = new Date;\r\n    let newdate\r\n    \r\n\r\n    newdate = this.datePipe.transform(actualdate, 'yyyy-MM-dd');\r\n\r\n    try {\r\n      await this.uts.presentLoading();\r\n      if (this.giftsaw != null && this.auts.agency != null) {\r\n\r\n        \r\n\r\n        let newExchange: ExchangeGift = {\r\n          dateExchange: newdate,\r\n          observations: this.formGift.get(\"observaciones\").value,\r\n          delivered: false,\r\n          agency: this.auts.agency,\r\n          gift: this.giftsaw\r\n        }\r\n        \r\n\r\n        try {\r\n          let result = await this.exser.createOrUpdate(newExchange);\r\n\r\n          if (!result) {\r\n            this.uts.presentToast(\"Error al insertar canje, compruebe los puntos de la agencia y la disponibilidad del regalo.\", \"danger\", 'ban');\r\n          }\r\n\r\n          else {\r\n            this.uts.presentToast(\"Pedido agregada correctamente\", \"success\", \"checkmark-circle-outline\");\r\n            let tmp: Agency = await this.as.getById(this.auts.agency.id);\r\n            this.as.added=true;\r\n\r\n            try {\r\n              if (!tmp) this.uts.presentToast(\"Ha habido un error al actualizar su agencia.\", \"danger\", \"ban\");\r\n              else this.auts.agency = tmp;\r\n\r\n            } catch (error) {\r\n              this.uts.presentToast(\"Ha habido un error al actualizar su agencia.\", \"danger\", \"ban\");\r\n              \r\n            }\r\n          }\r\n\r\n\r\n        } catch (err) {\r\n\r\n\r\n          this.uts.presentToast(\"Error agregando Pedido\", \"danger\", 'ban');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      await this.uts.hideLoading;\r\n      \r\n    }\r\n    await this.uts.hideLoading();\r\n    this.modalCtrl.dismiss({\r\n      nagency: this.auts.agency\r\n    })\r\n  }\r\n}","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar color=\\\"medium\\\">\\r\\n    <ion-title>\\r\\n      Canjear Pedido\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\" >\\r\\n  <div class=\\\"body\\\">\\r\\n\\r\\n    <div class=\\\"ion-padding\\\">\\r\\n      <div class=\\\"center\\\">\\r\\n\\r\\n        <ion-card>\\r\\n          <ion-img  [src]=\\\"this.img\\\"></ion-img>\\r\\n        </ion-card>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n    <div  class=\\\"ion-padding\\\">\\r\\n      <form [formGroup]=\\\"formGift\\\" class=\\\"formulario\\\">\\r\\n        <ion-grid>\\r\\n\\r\\n          <ion-row class=\\\"ion-align-items-center\\\">\\r\\n            <ion-col class=\\\"colum\\\">\\r\\n            <div>\\r\\n              <ion-text class=\\\"colum\\\">\\r\\n                Nombre : {{this.giftsaw.name}}\\r\\n              </ion-text>\\r\\n            </div>\\r\\n          </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-align-items-center\\\">\\r\\n            <ion-col class=\\\"colum\\\">\\r\\n              <div>\\r\\n                <ion-text>\\r\\n                  Precio : {{this.giftsaw.points}} Puntos\\r\\n                </ion-text>\\r\\n             </div>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-align-items-center\\\">\\r\\n            <ion-col class=\\\"colum\\\">\\r\\n              <div>\\r\\n                <ion-input class=\\\"customInput\\\" formControlName=\\\"observaciones\\\" placeholder=\\\"Escriba aqui sus observaciones\\\"></ion-input>\\r\\n             </div>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-align-items-center\\\">\\r\\n            <ion-col size=\\\"12\\\">\\r\\n\\r\\n\\r\\n              <ion-button [disabled]=\\\"this.auts.agency.points<giftsaw.points\\\"  (click)=\\\"purchase()\\\" expand=\\\"block\\\" shape=\\\"round\\\"  style=\\\"margin-top: 2% !important;\\\" class=\\\"button\\\" >\\r\\n                Realizar Transacción\\r\\n              </ion-button>\\r\\n\\r\\n              <p></p>\\r\\n              <p></p>\\r\\n              <ion-button (click)=\\\"close()\\\" expand=\\\"block\\\" shape=\\\"round\\\"  style=\\\"margin-top: 2% !important;\\\" class=\\\"button2\\\">\\r\\n                Cancelar Transacción\\r\\n              </ion-button>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </form>\\r\\n    </div>\\r\\n\\r\\n\\r\\n</div>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}