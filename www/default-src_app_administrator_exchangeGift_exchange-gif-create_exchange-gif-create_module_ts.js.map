{"version":3,"file":"default-src_app_administrator_exchangeGift_exchange-gif-create_exchange-gif-create_module_ts.js","mappings":"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","sources":["./src/app/administrator/exchangeGift/exchange-gif-create/exchange-gif-create-routing.module.ts","./src/app/administrator/exchangeGift/exchange-gif-create/exchange-gif-create.module.ts","./src/app/administrator/exchangeGift/exchange-gif-create/exchange-gif-create.page.ts","./src/app/administrator/exchangeGift/exchange-gif-create/exchange-gif-create.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ExchangeGifCreatePage } from './exchange-gif-create.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ExchangeGifCreatePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ExchangeGifCreatePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ExchangeGifCreatePageRoutingModule } from './exchange-gif-create-routing.module';\r\n\r\nimport { ExchangeGifCreatePage } from './exchange-gif-create.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ExchangeGifCreatePageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [ExchangeGifCreatePage]\r\n})\r\nexport class ExchangeGifCreatePageModule {}\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { IonToggle, PickerController, PickerOptions } from '@ionic/angular';\r\nimport { Agency } from 'src/app/models/Agency';\r\nimport { ExchangeGift } from 'src/app/models/ExchangeGift';\r\nimport { Gift } from 'src/app/models/Gift';\r\nimport { AgencyService } from 'src/app/services/agency.service';\r\nimport { ExchangeGiftService } from 'src/app/services/exchange-gift.service';\r\nimport { GiftService } from 'src/app/services/gift.service';\r\nimport { UtilService } from 'src/app/services/util.service';\r\n\r\n@Component({\r\n  selector: 'app-exchange-gif-create',\r\n  templateUrl: './exchange-gif-create.page.html',\r\n  styleUrls: ['./exchange-gif-create.page.scss'],\r\n})\r\nexport class ExchangeGifCreatePage {\r\n\r\n  public formExchange:FormGroup;\r\n  public mygift:Gift=null;\r\n  public myagency:Agency;\r\n  public gifts: Gift[];\r\n  public agencies: Agency[];\r\n\r\n  @ViewChild(IonToggle) toggle: IonToggle;\r\n  constructor(private exser: ExchangeGiftService,\r\n    private fb: FormBuilder,\r\n    private uts:UtilService,\r\n    private pickerController:PickerController,\r\n    private giftserv:GiftService,\r\n    private ageserv:AgencyService) {\r\n\r\n      this.formExchange=this.fb.group({\r\n        dateExchange: [\"\",Validators.required],\r\n        observations: [\"\",Validators.required]\r\n      });\r\n    }\r\n    public async CreateExgift(): Promise<void> {\r\n      try {\r\n        this.uts.presentLoading();\r\n      if(this.mygift!=null&&this.myagency!=null){\r\n\r\n      let newExchange: ExchangeGift = {\r\n        dateExchange: this.formExchange.get(\"dateExchange\").value,\r\n        observations: this.formExchange.get(\"observations\").value,\r\n        delivered: this.toggle.checked,\r\n        agency: this.myagency,\r\n        gift: this.mygift\r\n      }\r\n\r\n      try{\r\n        await this.exser.createOrUpdate(newExchange);\r\n        \r\n        this.uts.presentToast(\"Regalo agregada correctamente\",\"success\");\r\n        this.formExchange.reset();\r\n\r\n      }catch(err){\r\n        \r\n        \r\n        this.uts.presentToast(\"Error agregando Regalo\",\"danger\");\r\n      }\r\n    }\r\n   }catch(error){\r\n    this.uts.hideLoading;\r\n    console.log(error);\r\n    }\r\n    this.uts.hideLoading();\r\n  }\r\n\r\n  async showGiftsPicker() {\r\n    let options: PickerOptions = {\r\n      buttons: [\r\n        {\r\n          text: \"Cancel\",\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text:'Ok',\r\n          handler:(value:any) => {\r\n            this.mygift=value.Regalos.value;\r\n          }\r\n        }\r\n      ],\r\n      columns:[{\r\n        name:'Regalos',\r\n        options:this.getGiftColumnOptions()\r\n      }]\r\n    };\r\n\r\n    let picker = await this.pickerController.create(options);\r\n    picker.present()\r\n    \r\n  }\r\n\r\n  getGiftColumnOptions(){\r\n    let options = [];\r\n    this.gifts.forEach(x => {\r\n      options.push({text:x.name,value:x});\r\n    });\r\n    return options;\r\n  }\r\n  async ionViewWillEnter() {\r\n    \r\n    this.uts.presentLoading();\r\n    this.gifts=await this.giftserv.getAll();\r\n    this.agencies=await this.ageserv.getAll();\r\n    \r\n    if(this.agencies.length<=0&&this.gifts.length<=0){\r\n      this.uts.presentToast('','danger');\r\n    }\r\n    this.uts.hideLoading();\r\n    console.log(this.gifts);\r\n    console.log(this.agencies);\r\n  }\r\n\r\n  async showAgenciesPicker() {\r\n    let options: PickerOptions = {\r\n      buttons: [\r\n        {\r\n          text: \"Cancel\",\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text:'Ok',\r\n          handler:(value:any) => {\r\n            this.myagency=value.Agencias.value;\r\n          }\r\n        }\r\n      ],\r\n      columns:[{\r\n        name:'Agencias',\r\n        options:this.getAgenciesColumnOptions()\r\n      }]\r\n    };\r\n\r\n    let picker = await this.pickerController.create(options);\r\n    picker.present()\r\n  }\r\n\r\n  getAgenciesColumnOptions(){\r\n    let options = [];\r\n    this.agencies.forEach(x => {\r\n      options.push({text:x.zipCode,value:x});\r\n    });\r\n    return options;\r\n  }\r\n\r\n}\r\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>\\r\\n      Crea Pedido\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <div class=\\\"body\\\">\\r\\n    <form [formGroup]=\\\"formExchange\\\" class=\\\"ion-padding\\\">\\r\\n      <div class=\\\"formulario\\\">\\r\\n      <ion-grid>\\r\\n        \\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"1\\\" sizeLg=\\\"1\\\">\\r\\n            <ion-label>Fecha de Intercambio:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"11\\\" sizeLg=\\\"11\\\">\\r\\n            <ion-input formControlName=\\\"dateExchange\\\" class=\\\"customInput\\\" type=\\\"date\\\"></ion-input>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"1\\\" sizeLg=\\\"1\\\">\\r\\n            <ion-label>Observaciones:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"11\\\" sizeLg=\\\"11\\\">\\r\\n            <ion-textarea formControlName=\\\"observations\\\" class=\\\"customInput\\\" type=\\\"text\\\"></ion-textarea>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"9\\\" sizeLg=\\\"1\\\">\\r\\n            Entregado:\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"3\\\" sizeLg=\\\"11  \\\">\\r\\n            <ion-item  lines=\\\"none\\\">\\r\\n              No<ion-toggle></ion-toggle>Si\\r\\n           </ion-item>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-label>Agencia:</ion-label>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showAgenciesPicker()\\\" *ngIf=\\\"this.myagency==null\\\">\\r\\n              Seleccionar\\r\\n            </ion-button>\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showAgenciesPicker()\\\" *ngIf=\\\"this.myagency!=null\\\">\\r\\n              {{this.myagency.zipCode}}\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-label>Regalo:</ion-label>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showGiftsPicker()\\\" *ngIf=\\\"this.mygift==null\\\">\\r\\n              Seleccionar\\r\\n            </ion-button>\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"showGiftsPicker()\\\" *ngIf=\\\"this.mygift!=null\\\">\\r\\n              {{this.mygift.name}}\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <ion-button (click)=\\\"CreateExgift()\\\" expand=\\\"block\\\" shape=\\\"round\\\"  style=\\\"margin-top: 2% !important;\\\" class=\\\"button\\\" [disabled]=\\\"this.formExchange.invalid\\\">\\r\\n              Crear Regalo Intercambio\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </div>\\r\\n    </form>\\r\\n</div>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}