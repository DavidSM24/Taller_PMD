"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{9318:(C,A,i)=>{i.d(A,{i:()=>Z});const Z=o=>o&&""!==o.dir?"rtl"===o.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},3620:(C,A,i)=>{i.r(A),i.d(A,{startFocusVisible:()=>e});const Z="ion-focused",n=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],e=s=>{let t=[],T=!0;const h=s?s.shadowRoot:document,u=s||document.body,d=r=>{t.forEach(p=>p.classList.remove(Z)),r.forEach(p=>p.classList.add(Z)),t=r},a=()=>{T=!1,d([])},m=r=>{T=n.includes(r.key),T||d([])},c=r=>{if(T&&r.composedPath){const p=r.composedPath().filter(f=>!!f.classList&&f.classList.contains("ion-focusable"));d(p)}},g=()=>{h.activeElement===u&&d([])};return h.addEventListener("keydown",m),h.addEventListener("focusin",c),h.addEventListener("focusout",g),h.addEventListener("touchstart",a),h.addEventListener("mousedown",a),{destroy:()=>{h.removeEventListener("keydown",m),h.removeEventListener("focusin",c),h.removeEventListener("focusout",g),h.removeEventListener("touchstart",a),h.removeEventListener("mousedown",a)},setFocus:d}}},1890:(C,A,i)=>{i.d(A,{a:()=>Z,b:()=>a,c:()=>t,d:()=>m,e:()=>v,f:()=>n,g:()=>o,h:()=>p,i:()=>T,j:()=>u,k:()=>c,l:()=>h,m:()=>s,n:()=>e,o:()=>d,p:()=>g,q:()=>l,r:()=>r,s:()=>f});const Z="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",T="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},8816:(C,A,i)=>{i.d(A,{h:()=>n});var Z=i(865);let n=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({}),e})()},9226:(C,A,i)=>{i.r(A),i.d(A,{AgencyUpdatePageModule:()=>d});var Z=i(6019),o=i(2651),n=i(8725),e=i(2483),s=i(865);const t=[{path:"",component:e.L}];let T=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({imports:[[n.Bz.forChild(t)],n.Bz]}),a})();var h=i(9574),u=i(371);let d=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({providers:[h.Y,u.f],imports:[[Z.ez,o.Pc,T]]}),a})()},2483:(C,A,i)=>{i.d(A,{L:()=>l});var Z=i(4762),o=i(9010),n=i(2651),e=i(865),s=i(9574),t=i(371),T=i(7639),h=i(6019);function u(r,p){1&r&&(e.TgZ(0,"p",22),e._uU(1," *Campo obligatorio. Debe introducir entre 2 y 21 caracteres. "),e.qZA())}function d(r,p){1&r&&(e.TgZ(0,"p",22),e._uU(1," *Campo obligatorio. Debe introducir entre 4 y 50 caracteres. "),e.qZA())}function a(r,p){1&r&&(e.TgZ(0,"p",22),e._uU(1," *Campo obligatorio. Debe introducir entre 4 y 50 caracteres. "),e.qZA())}function m(r,p){1&r&&(e.TgZ(0,"p",22),e._uU(1," *Campo obligatorio. Debe introducir un n\xfamero de telefono de 9 d\xedgitos exactos. "),e.qZA())}function c(r,p){1&r&&(e.TgZ(0,"p",22),e._uU(1," *Campo obligatorio. "),e.qZA())}function g(r,p){1&r&&(e.TgZ(0,"p",22),e._uU(1," *Campo obligatorio. Debe seleccionar una compa\xf1\xeda de seguros. "),e.qZA())}let l=(()=>{class r{constructor(f,v,x,M,y,U){this.modalCtrl=f,this.fb=v,this.as=x,this.uts=M,this.is=y,this.pickerController=U,this.insurance=null}ngOnInit(){try{this.insurance=this.agency.myInsuranceCompany,console.log(this.agency),this.formAgency=this.fb.group({zipCode:[this.agency.zipCode,[o.kI.required,o.kI.pattern("[0-9]{2,21}")]],address:[this.agency.address,[o.kI.required,o.kI.maxLength(50),o.kI.minLength(4)]],location:[this.agency.location,[o.kI.required,o.kI.maxLength(50),o.kI.minLength(4)]],phoneNumber:[this.agency.phoneNumber,[o.kI.required,o.kI.pattern("[0-9]{9}")]],points:[this.agency.points,o.kI.required]})}catch(f){console.log(f)}}ionViewWillEnter(){return(0,Z.mG)(this,void 0,void 0,function*(){this.companies=yield this.is.getAll(),this.companies.length<=0&&this.uts.presentToast("Para crear agencias, deben existir compa\xf1\xedas de seguros.","danger","ban"),yield this.uts.hideLoading()})}edit(){return(0,Z.mG)(this,void 0,void 0,function*(){yield this.uts.presentLoading();let f={id:this.agency.id,zipCode:this.formAgency.get("zipCode").value,address:this.formAgency.get("address").value,location:this.formAgency.get("location").value,phoneNumber:this.formAgency.get("phoneNumber").value,amount:this.agency.amount,points:this.agency.points,pointsRedeemed:this.agency.pointsRedeemed,myInsuranceCompany:this.insurance,myCarRepairs:this.agency.myCarRepairs,myExchangesGifts:this.agency.myExchangesGifts,myUser:this.agency.myUser,active:this.toggle.checked};try{f=yield this.as.createOrUpdate(f),yield this.uts.hideLoading(),f.id?this.uts.presentToast("Agencia modificada correctamente.","success","checkmark-circle-outline"):(this.uts.presentToast("Ha surgido un error al intentar modificar la agencia. Compruebe todos los campos","danger","ban"),f=null)}catch(v){console.log(v),this.uts.presentToast("Ha surgido un error al intentar modificar la agencia. Compruebe todos los campos","danger","ban"),yield this.uts.hideLoading()}null!=f?this.modalCtrl.dismiss({newAgency:f}):this.modalCtrl.dismiss()})}close(){this.modalCtrl.dismiss()}showPicker(){return(0,Z.mG)(this,void 0,void 0,function*(){let f={buttons:[{text:"Cancel",role:"cancel",handler:x=>{this.insurance||(this.errorCompany=!0)}},{text:"Ok",handler:x=>{this.insurance=x.Compa\u00f1\u00edas.value,this.errorCompany=!1}}],columns:[{name:"Compa\xf1\xedas",options:this.getColumnOptions()}]};(yield this.pickerController.create(f)).present()})}getColumnOptions(){let f=[];return this.companies.forEach(v=>{f.push({text:v.cia_Name,value:v})}),f}}return r.\u0275fac=function(f){return new(f||r)(e.Y36(n.IN),e.Y36(o.qu),e.Y36(s.Y),e.Y36(t.f),e.Y36(T.r),e.Y36(n.up))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-agency-update"]],viewQuery:function(f,v){if(1&f&&e.Gf(n.ho,5),2&f){let x;e.iGM(x=e.CRH())&&(v.toggle=x.first)}},inputs:{agency:"agency"},decls:79,vars:12,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["size","3"],["size","9"],["type","number","formControlName","zipCode",1,"customInput"],["style","color:red;",4,"ngIf"],["type","text","formControlName","address",1,"customInput"],["type","text","formControlName","location",1,"customInput"],["type","number","formControlName","phoneNumber",1,"customInput"],["Disabled","","type","number","formControlName","points",1,"customInput"],["size","rem"],["lines","none"],[3,"checked"],["expand","block","shape","round",3,"click"],["size","6"],["expand","block","shape","round",1,"button",3,"click"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],[2,"color","red"]],template:function(f,v){1&f&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title"),e._uU(3," Editar Agencia "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.TgZ(7,"div",5),e.TgZ(8,"ion-grid"),e.TgZ(9,"ion-row",6),e.TgZ(10,"ion-col",7),e.TgZ(11,"ion-label"),e._uU(12,"C\xf3digo Zip:"),e.qZA(),e.qZA(),e.TgZ(13,"ion-col",8),e._UZ(14,"ion-input",9),e.qZA(),e.qZA(),e.TgZ(15,"ion-row",6),e.TgZ(16,"ion-col"),e.YNc(17,u,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(18,"ion-row",6),e.TgZ(19,"ion-col",7),e.TgZ(20,"ion-label"),e._uU(21,"Direcci\xf3n:"),e.qZA(),e.qZA(),e.TgZ(22,"ion-col",8),e._UZ(23,"ion-input",11),e.qZA(),e.qZA(),e.TgZ(24,"ion-row",6),e.TgZ(25,"ion-col"),e.YNc(26,d,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(27,"ion-row",6),e.TgZ(28,"ion-col",7),e.TgZ(29,"ion-label"),e._uU(30,"Localidad:"),e.qZA(),e.qZA(),e.TgZ(31,"ion-col",8),e._UZ(32,"ion-input",12),e.qZA(),e.qZA(),e.TgZ(33,"ion-row",6),e.TgZ(34,"ion-col"),e.YNc(35,a,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(36,"ion-row",6),e.TgZ(37,"ion-col",7),e.TgZ(38,"ion-label"),e._uU(39,"Tel\xe9fono:"),e.qZA(),e.qZA(),e.TgZ(40,"ion-col",8),e._UZ(41,"ion-input",13),e.qZA(),e.qZA(),e.TgZ(42,"ion-row",6),e.TgZ(43,"ion-col"),e.YNc(44,m,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(45,"ion-row",6),e.TgZ(46,"ion-col",7),e.TgZ(47,"ion-label"),e._uU(48,"Puntos:"),e.qZA(),e.qZA(),e.TgZ(49,"ion-col",8),e._UZ(50,"ion-input",14),e.qZA(),e.qZA(),e.TgZ(51,"ion-row",6),e.TgZ(52,"ion-col"),e.YNc(53,c,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(54,"ion-row",6),e.TgZ(55,"ion-col",15),e._uU(56," Activa: "),e.qZA(),e.TgZ(57,"ion-col"),e.TgZ(58,"ion-item",16),e._uU(59," No"),e._UZ(60,"ion-toggle",17),e._uU(61,"Si "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"ion-row",6),e.TgZ(63,"ion-col",15),e.TgZ(64,"ion-label"),e._uU(65,"Compa\xf1\xeda de Seguros:"),e.qZA(),e.qZA(),e.TgZ(66,"ion-col",15),e.TgZ(67,"ion-button",18),e.NdJ("click",function(){return v.showPicker()}),e._uU(68),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"ion-row",6),e.TgZ(70,"ion-col"),e.YNc(71,g,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(72,"ion-row",6),e.TgZ(73,"ion-col",19),e.TgZ(74,"ion-button",20),e.NdJ("click",function(){return v.close()}),e._uU(75," Cancelar "),e.qZA(),e.qZA(),e.TgZ(76,"ion-col",19),e.TgZ(77,"ion-button",21),e.NdJ("click",function(){return v.edit()}),e._uU(78," Actualizar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&f&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("formGroup",v.formAgency),e.xp6(11),e.Q6J("ngIf",v.formAgency.get("zipCode").invalid&&v.formAgency.get("zipCode").touched),e.xp6(9),e.Q6J("ngIf",v.formAgency.get("address").invalid&&v.formAgency.get("address").touched),e.xp6(9),e.Q6J("ngIf",v.formAgency.get("location").invalid&&v.formAgency.get("location").touched),e.xp6(9),e.Q6J("ngIf",v.formAgency.get("phoneNumber").invalid&&v.formAgency.get("phoneNumber").touched),e.xp6(9),e.Q6J("ngIf",v.formAgency.get("points").invalid&&v.formAgency.get("points").touched),e.xp6(7),e.Q6J("checked",v.agency.active),e.xp6(8),e.hij(" ",v.insurance.cia_Name," "),e.xp6(3),e.Q6J("ngIf",v.errorCompany),e.xp6(6),e.Q6J("disabled",v.formAgency.invalid||null==v.insurance))},directives:[n.Gu,n.sr,n.wd,n.W2,o._Y,o.JL,o.sg,n.jY,n.Nd,n.wI,n.Q$,n.pK,n.as,o.JJ,o.u,h.O5,n.j9,n.Ie,n.ho,n.w,n.YG],styles:['.body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.button[_ngcontent-%COMP%]{--background: #22388c}.customInput[_ngcontent-%COMP%]{border:1px solid gray;border-color:"primary";border-radius:.6rem}ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}ion-input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}@media screen and (max-width: 600px){ion-text[_ngcontent-%COMP%]{font-size:.7rem}ion-item[_ngcontent-%COMP%]{size:.7rem}ion-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 13px;--min-width: 13px;size:11px}ion-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-select-option[_ngcontent-%COMP%]{font-size:11px}.customInput[_ngcontent-%COMP%]   .native-input[_ngcontent-%COMP%]{border-radius:.4rem}.customInput[_ngcontent-%COMP%]{border:1px solid gray;border-color:"primary";border-radius:.4rem}}@media screen and (max-width: 360px){ion-text[_ngcontent-%COMP%]{font-size:.5rem}ion-item[_ngcontent-%COMP%]{--min-height: 8px;--min-width: 8px;size:7px}ion-item[_ngcontent-%COMP%]   ion-select-option[_ngcontent-%COMP%]{font-size:.5rem}.customInput[_ngcontent-%COMP%]   .native-input[_ngcontent-%COMP%]{border-radius:.4rem}.customInput[_ngcontent-%COMP%]{border:1px solid gray;border-color:"primary";border-radius:.4rem}}']}),r})()},1723:(C,A,i)=>{i.r(A),i.d(A,{CarRepairSawPageModule:()=>d});var Z=i(6019),o=i(9010),n=i(2651),e=i(8725),s=i(7584),t=i(865);const T=[{path:"",component:s.T}];let h=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[e.Bz.forChild(T)],e.Bz]}),a})();var u=i(7928);let d=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[u.K],imports:[[Z.ez,o.u5,n.Pc,h,o.u5,o.UX]]}),a})()},7584:(C,A,i)=>{i.d(A,{T:()=>a});var Z=i(4762),o=i(9010),n=i(3022),e=i(865),s=i(2651),t=i(8725),T=i(1249),h=i(6019);function u(m,c){1&m&&e._UZ(0,"ion-icon",29)}function d(m,c){1&m&&e._UZ(0,"ion-icon",30)}let a=(()=>{class m{constructor(g,l,r,p){this.modalController=g,this.formBuilder=l,this.routes=r,this.dateTimeService=p,this.validator=this.formBuilder.group({operation:["",[o.kI.required]],carPlate:["",[o.kI.required]],model:["",[o.kI.required]],brandCar:["",[o.kI.required]],clienteName:["",[o.kI.required]],nor:["",[o.kI.required]],amount:[""],asigPoints:[""],myAgency:[""],dateOrder:["",[o.kI.required]],dateRepair:[""],repaired:["",[o.kI.required]]})}ngOnInit(){this.spanishDateOrder=this.dateTimeService.formatSpanishDateString(""+this.carRepair.dateOrder),this.carRepair.dateRepair&&(this.spanishDateRepair=this.dateTimeService.formatSpanishDateString(""+this.carRepair.dateRepair)),this.formCarRepair=this.formBuilder.group({operation:[this.carRepair.operation,[o.kI.required]],carPlate:[this.carRepair.carPlate,[o.kI.required]],model:[this.carRepair.model,[o.kI.required]],brandCar:[this.carRepair.brandCar,[o.kI.required]],clientName:[this.carRepair.clienteName,[o.kI.required]],nor:[this.carRepair.nor,[o.kI.required]],amount:[this.carRepair.amount],asigPoints:[this.carRepair.asigPoints],myAgency:[this.carRepair.myAgency.myUser.name],dateOrder:[this.spanishDateOrder,[o.kI.required]],dateRepair:[this.spanishDateRepair],repaired:[this.carRepair.repaired,[o.kI.required]]}),null==this.carRepair.dateRepair&&this.formCarRepair.get("dateRepair").setValue("Sin Reparar")}ionViewDidEnter(){return(0,Z.mG)(this,void 0,void 0,function*(){this.oldCarRepair={id:this.carRepair.id,operation:this.carRepair.operation,carPlate:this.carRepair.carPlate,model:this.carRepair.model,brandCar:this.carRepair.brandCar,clienteName:this.carRepair.clienteName,dateOrder:this.carRepair.dateOrder,nor:this.carRepair.nor,amount:this.carRepair.amount,dateRepair:this.carRepair.dateRepair,asigPoints:this.carRepair.asigPoints,repaired:this.carRepair.repaired,myAgency:this.carRepair.myAgency}})}edit(){return(0,Z.mG)(this,void 0,void 0,function*(){const g=yield this.modalController.create({component:n.K,cssClass:"my-modal-class",componentProps:{carRepair:this.carRepair}});try{return yield g.present()}catch(l){}})}closeModal(){this.modalController.dismiss()}}return m.\u0275fac=function(g){return new(g||m)(e.Y36(s.IN),e.Y36(o.qu),e.Y36(t.F0),e.Y36(T.Y))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-car-repair-saw"]],inputs:{carRepair:"carRepair"},decls:87,vars:5,consts:[["color","primary"],[3,"fullscreen"],[1,"body"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["sizeSm","1","sizeLg","3"],["sizeSm","11","sizeLg","9"],["type","number","readonly","","formControlName","operation",1,"customInput"],["readonly","","type","text","formControlName","carPlate",1,"customInput"],["sizeSm","5","sizeLg","9"],["readonly","","type","text","formControlName","model",1,"customInput"],["readonly","","type","text","formControlName","brandCar",1,"customInput"],["readonly","","type","text","formControlName","clientName",1,"customInput"],["readonly","","type","number","formControlName","nor",1,"customInput"],["readonly","","type","number","formControlName","amount",1,"customInput"],["readonly","","type","number","formControlName","asigPoints",1,"customInput"],["readonly","","type","text","formControlName","myAgency",1,"customInput"],["sizeSm","7","sizeLg","3"],["sizeSm","7","sizeLg","4"],["readonly","","type","text","formControlName","dateOrder",1,"customInput"],["readonly","","type","text","formControlName","dateRepair",1,"customInput"],["sizeSm","7","sizeLg","1.5"],["title","Reparada"],["name","checkmark-circle","color","success","style","zoom: 2.0;pointer-events: none;",4,"ngIf"],["title","Sin Reparar"],["name","close-circle","color","danger","style","zoom: 2.0;pointer-events: none;",4,"ngIf"],[1,"center"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"click"],["name","checkmark-circle","color","success",2,"zoom","2.0","pointer-events","none"],["name","close-circle","color","danger",2,"zoom","2.0","pointer-events","none"]],template:function(g,l){1&g&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-title"),e._uU(3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",1),e.TgZ(5,"div",2),e.TgZ(6,"form",3),e.TgZ(7,"div",4),e.TgZ(8,"ion-grid"),e.TgZ(9,"ion-row",5),e.TgZ(10,"ion-col",6),e.TgZ(11,"ion-label"),e._uU(12,"Operaci\xf3n"),e.qZA(),e.qZA(),e.TgZ(13,"ion-col",7),e._UZ(14,"ion-input",8),e.qZA(),e.qZA(),e.TgZ(15,"ion-row",5),e.TgZ(16,"ion-col",6),e.TgZ(17,"ion-label"),e._uU(18,"Matr\xedcula"),e.qZA(),e.qZA(),e.TgZ(19,"ion-col",7),e._UZ(20,"ion-input",9),e.qZA(),e.qZA(),e.TgZ(21,"ion-row",5),e.TgZ(22,"ion-col",6),e.TgZ(23,"ion-label"),e._uU(24,"Modelo"),e.qZA(),e.qZA(),e.TgZ(25,"ion-col",10),e._UZ(26,"ion-input",11),e.qZA(),e.qZA(),e.TgZ(27,"ion-row",5),e.TgZ(28,"ion-col",6),e.TgZ(29,"ion-label"),e._uU(30,"Marca"),e.qZA(),e.qZA(),e.TgZ(31,"ion-col",10),e._UZ(32,"ion-input",12),e.qZA(),e.qZA(),e.TgZ(33,"ion-row",5),e.TgZ(34,"ion-col",6),e.TgZ(35,"ion-label"),e._uU(36,"Cliente"),e.qZA(),e.qZA(),e.TgZ(37,"ion-col",7),e._UZ(38,"ion-input",13),e.qZA(),e.qZA(),e.TgZ(39,"ion-row",5),e.TgZ(40,"ion-col",6),e.TgZ(41,"ion-label"),e._uU(42,"NOR"),e.qZA(),e.qZA(),e.TgZ(43,"ion-col",7),e._UZ(44,"ion-input",14),e.qZA(),e.qZA(),e.TgZ(45,"ion-row",5),e.TgZ(46,"ion-col",6),e.TgZ(47,"ion-label"),e._uU(48,"Coste"),e.qZA(),e.qZA(),e.TgZ(49,"ion-col",7),e._UZ(50,"ion-input",15),e.qZA(),e.qZA(),e.TgZ(51,"ion-row",5),e.TgZ(52,"ion-col",6),e.TgZ(53,"ion-label"),e._uU(54,"Puntos"),e.qZA(),e.qZA(),e.TgZ(55,"ion-col",7),e._UZ(56,"ion-input",16),e.qZA(),e.qZA(),e.TgZ(57,"ion-row",5),e.TgZ(58,"ion-col",6),e.TgZ(59,"ion-label"),e._uU(60,"Agencia"),e.qZA(),e.qZA(),e.TgZ(61,"ion-col",7),e._UZ(62,"ion-input",17),e.qZA(),e.qZA(),e.TgZ(63,"ion-row",5),e.TgZ(64,"ion-col",18),e.TgZ(65,"ion-label"),e._uU(66,"Fecha de alta"),e.qZA(),e.qZA(),e.TgZ(67,"ion-col",19),e._UZ(68,"ion-input",20),e.qZA(),e.qZA(),e.TgZ(69,"ion-row",5),e.TgZ(70,"ion-col",18),e.TgZ(71,"ion-label"),e._uU(72,"Fecha de reparaci\xf3n"),e.qZA(),e.qZA(),e.TgZ(73,"ion-col",19),e._UZ(74,"ion-input",21),e.qZA(),e.qZA(),e.TgZ(75,"ion-row",5),e.TgZ(76,"ion-col",18),e._uU(77," Reparado "),e.qZA(),e.TgZ(78,"ion-col",22),e.TgZ(79,"div",23),e.YNc(80,u,1,0,"ion-icon",24),e.qZA(),e.TgZ(81,"div",25),e.YNc(82,d,1,0,"ion-icon",26),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"ion-row",27),e.TgZ(84,"ion-col",27),e.TgZ(85,"ion-button",28),e.NdJ("click",function(){return l.closeModal()}),e._uU(86," Cancelar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&g&&(e.xp6(3),e.hij("Reparaci\xf3n ",l.carRepair.operation,""),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("formGroup",l.formCarRepair),e.xp6(74),e.Q6J("ngIf",l.carRepair.repaired),e.xp6(2),e.Q6J("ngIf",!l.carRepair.repaired))},directives:[s.Gu,s.sr,s.wd,s.W2,o._Y,o.JL,o.sg,s.jY,s.Nd,s.wI,s.Q$,s.pK,s.as,o.JJ,o.u,s.j9,h.O5,s.YG,s.gu],styles:[".body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.formulario[_ngcontent-%COMP%]{margin:1.5rem}.secundaryInput[_ngcontent-%COMP%]{margin-left:5%}.date[_ngcontent-%COMP%]{margin-left:20%}.button[_ngcontent-%COMP%]{--background: #22388c;width:50%}"]}),m})()},4998:(C,A,i)=>{i.r(A),i.d(A,{CarRepairUpdatePageModule:()=>d});var Z=i(6019),o=i(9010),n=i(2651),e=i(8725),s=i(3022),t=i(865);const T=[{path:"",component:s.K}];let h=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[e.Bz.forChild(T)],e.Bz]}),a})();var u=i(7928);let d=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[u.K],imports:[[Z.ez,o.u5,n.Pc,h,o.u5,o.UX]]}),a})()},2115:(C,A,i)=>{i.d(A,{t:()=>d});var Z=i(4762),o=i(9010),n=i(865),e=i(7639),s=i(371),t=i(2651),T=i(9574),h=i(6019);function u(a,m){1&a&&(n.TgZ(0,"p",14),n._uU(1," *Campo obligatorio. Debe introducir entre 3 y 50 caracteres. "),n.qZA())}let d=(()=>{class a{constructor(c,g,l,r,p){this.cs=c,this.fb=g,this.uts=l,this.modalCtrl=r,this.as=p}ngOnInit(){this.formCompany=this.fb.group({name:[this.company.cia_Name,[o.kI.required,o.kI.minLength(3),o.kI.maxLength(50)]]})}create(){return(0,Z.mG)(this,void 0,void 0,function*(){yield this.uts.presentLoading();let c={id:this.company.id,cia_Name:this.formCompany.get("name").value};c=yield this.cs.createOrUpdate(c),c?(this.as.added=!0,this.formCompany.reset(),this.uts.presentToast("La compa\xf1\xeda se ha modificado correctamente.","success","checkmark-circle-outline")):(this.uts.presentToast("Un error ha surgido al intentar modificar la compa\xf1\xeda.","danger","ban"),c=null),yield this.uts.hideLoading(),c?this.modalCtrl.dismiss({newCompany:c}):this.modalCtrl.dismiss()})}close(){this.modalCtrl.dismiss()}}return a.\u0275fac=function(c){return new(c||a)(n.Y36(e.r),n.Y36(o.qu),n.Y36(s.f),n.Y36(t.IN),n.Y36(T.Y))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-company-update"]],inputs:{company:"company"},decls:25,vars:6,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["sizeSm","2","sizeLg","2"],["sizeSm","10","sizeLg","10"],["type","text","formControlName","name",1,"customInput"],["style","color:red;",4,"ngIf"],["size","6"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"click"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],[2,"color","red"]],template:function(c,g){1&c&&(n.TgZ(0,"ion-header",0),n.TgZ(1,"ion-toolbar",1),n.TgZ(2,"ion-title"),n._uU(3),n.qZA(),n.qZA(),n.qZA(),n.TgZ(4,"ion-content",2),n.TgZ(5,"div",3),n.TgZ(6,"form",4),n.TgZ(7,"div",5),n.TgZ(8,"ion-grid"),n.TgZ(9,"ion-row",6),n.TgZ(10,"ion-col",7),n.TgZ(11,"ion-label"),n._uU(12,"Nombre CIA:"),n.qZA(),n.qZA(),n.TgZ(13,"ion-col",8),n._UZ(14,"ion-input",9),n.qZA(),n.qZA(),n.TgZ(15,"ion-row",6),n.TgZ(16,"ion-col"),n.YNc(17,u,2,0,"p",10),n.qZA(),n.qZA(),n.TgZ(18,"ion-row",6),n.TgZ(19,"ion-col",11),n.TgZ(20,"ion-button",12),n.NdJ("click",function(){return g.close()}),n._uU(21," Cancelar "),n.qZA(),n.qZA(),n.TgZ(22,"ion-col",11),n.TgZ(23,"ion-button",13),n.NdJ("click",function(){return g.create()}),n._uU(24," Editar "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&c&&(n.Q6J("translucent",!0),n.xp6(3),n.hij(" ","Modificando la compa\xf1\xeda de Seguros "+g.company.cia_Name," "),n.xp6(1),n.Q6J("fullscreen",!0),n.xp6(2),n.Q6J("formGroup",g.formCompany),n.xp6(11),n.Q6J("ngIf",g.formCompany.get("name").invalid&&g.formCompany.get("name").touched),n.xp6(6),n.Q6J("disabled",g.formCompany.invalid))},directives:[t.Gu,t.sr,t.wd,t.W2,o._Y,o.JL,o.sg,t.jY,t.Nd,t.wI,t.Q$,t.pK,t.j9,o.JJ,o.u,h.O5,t.YG],styles:['.body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.button[_ngcontent-%COMP%]{--background: #22388c}.customInput[_ngcontent-%COMP%]{border:1px solid gray;border-color:"primary";border-radius:.6rem}ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}ion-input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}']}),a})()},2610:(C,A,i)=>{i.r(A),i.d(A,{ExchangeGifCreatePageModule:()=>M});var Z=i(6019),o=i(9010),n=i(2651),e=i(8725),s=i(4762),t=i(865),T=i(922),h=i(371),u=i(4483),d=i(9574);function a(y,U){1&y&&(t.TgZ(0,"p",18),t._uU(1," *Campo obligatorio. Seleccione una fecha v\xe1lida. "),t.qZA())}function m(y,U){if(1&y){const _=t.EpF();t.TgZ(0,"ion-button",19),t.NdJ("click",function(){return t.CHM(_),t.oxw().showAgenciesPicker()}),t._uU(1," Seleccionar "),t.qZA()}}function c(y,U){if(1&y){const _=t.EpF();t.TgZ(0,"ion-button",19),t.NdJ("click",function(){return t.CHM(_),t.oxw().showAgenciesPicker()}),t._uU(1),t.qZA()}if(2&y){const _=t.oxw();t.xp6(1),t.hij(" ",_.myagency.myInsuranceCompany.cia_Name+" - "+_.myagency.location," ")}}function g(y,U){1&y&&(t.TgZ(0,"p",18),t._uU(1," *Campo obligatorio. Seleccione una agencia. "),t.qZA())}function l(y,U){if(1&y){const _=t.EpF();t.TgZ(0,"ion-button",19),t.NdJ("click",function(){return t.CHM(_),t.oxw().showGiftsPicker()}),t._uU(1," Seleccionar "),t.qZA()}}function r(y,U){if(1&y){const _=t.EpF();t.TgZ(0,"ion-button",19),t.NdJ("click",function(){return t.CHM(_),t.oxw().showGiftsPicker()}),t._uU(1),t.qZA()}if(2&y){const _=t.oxw();t.xp6(1),t.hij(" ",_.mygift.name," ")}}function p(y,U){1&y&&(t.TgZ(0,"p",18),t._uU(1," *Campo obligatorio. Seleccione un regalo a canjear. "),t.qZA())}const v=[{path:"",component:(()=>{class y{constructor(_,P,E,b,q,w){this.exser=_,this.fb=P,this.uts=E,this.pickerController=b,this.giftserv=q,this.ageserv=w,this.mygift=null,this.formExchange=this.fb.group({dateExchange:["",o.kI.required],observations:[""]})}CreateExgift(){return(0,s.mG)(this,void 0,void 0,function*(){try{if(yield this.uts.presentLoading(),null!=this.mygift&&null!=this.myagency){console.log(this.myagency);let _={dateExchange:this.formExchange.get("dateExchange").value,observations:this.formExchange.get("observations").value,delivered:this.toggle.checked,agency:this.myagency,gift:this.mygift};try{if(yield this.exser.createOrUpdate(_)){let E={subject:"Pedido: "+_.agency.myUser.name+" -> "+_.gift.name,receiver:_.agency.myUser.email,message:_.agency.myUser.name+" ha creado un nuevo pedido: "+_.gift.name+". Puntos: "+_.gift.points+"."};this.uts.presentToast("Pedido agregado correctamente.","success","checkmark-circle-outline"),this.ageserv.added=!0;try{(yield this.uts.sendMail(E))&&this.uts.presentToast("Se ha enviado un correo a los administradores con la informaci\xf3n del neuvo pedido.","success","checkmark-circle-outline")}catch(b){}this.formExchange.reset()}else this.uts.presentToast("Error al insertar canje, compruebe los puntos de la agencia y la disponibilidad del regalo.","danger","ban")}catch(P){this.uts.presentToast("Error agregando Pedido","danger","ban")}}}catch(_){yield this.uts.hideLoading,console.log(_)}yield this.uts.hideLoading()})}showGiftsPicker(){return(0,s.mG)(this,void 0,void 0,function*(){let _={buttons:[{text:"Cancel",role:"cancel",handler:E=>{this.mygift||(this.errorGift=!0)}},{text:"Ok",handler:E=>{this.mygift=E.Regalos.value,this.errorGift=!1}}],columns:[{name:"Regalos",options:this.getGiftColumnOptions()}]};(yield this.pickerController.create(_)).present()})}getGiftColumnOptions(){let _=[];return this.gifts.forEach(P=>{_.push({text:P.name,value:P})}),_}ionViewWillEnter(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.uts.presentLoading(),this.gifts=yield this.giftserv.getByAvailablePaged(!0,99999,0),this.agencies=yield this.ageserv.getAll(),this.agencies.length<=0&&this.gifts.length<=0&&this.uts.presentToast("","danger","ban"),yield this.uts.hideLoading(),console.log(this.gifts),console.log(this.agencies)})}showAgenciesPicker(){return(0,s.mG)(this,void 0,void 0,function*(){let _={buttons:[{text:"Cancel",handler:E=>{this.myagency||(this.errorAgency=!0)},role:"cancel"},{text:"Ok",handler:E=>{console.log(E.Agencias.value),this.myagency=E.Agencias.value,this.errorAgency=!1}}],columns:[{name:"Agencias",options:this.getAgenciesColumnOptions()}]};(yield this.pickerController.create(_)).present()})}getAgenciesColumnOptions(){let _=[];return this.agencies.forEach(P=>{_.push({text:P.myInsuranceCompany.cia_Name+" - "+P.location,value:P})}),_}}return y.\u0275fac=function(_){return new(_||y)(t.Y36(T.y),t.Y36(o.qu),t.Y36(h.f),t.Y36(n.up),t.Y36(u.R),t.Y36(d.Y))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-exchange-gif-create"]],viewQuery:function(_,P){if(1&_&&t.Gf(n.ho,5),2&_){let E;t.iGM(E=t.CRH())&&(P.toggle=E.first)}},decls:59,vars:11,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["sizeSm","1.5","sizeLg","1.5"],["sizeSm","10.5","sizeLg","10.5"],["formControlName","dateExchange","type","date",1,"customInput"],["style","color:red;",4,"ngIf"],["formControlName","observations","type","text",1,"customInput"],["lines","none"],["sizeSm","rem"],["expand","block","shape","round",3,"click",4,"ngIf"],["size","6"],["expand","block","shape","round","routerLink","/tab-administrator/exchange-gift/list",1,"button",2,"margin-top","2% !important"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],[2,"color","red"],["expand","block","shape","round",3,"click"]],template:function(_,P){1&_&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-title"),t._uU(3," Crea Pedido "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"ion-content",2),t.TgZ(5,"div",3),t.TgZ(6,"form",4),t.TgZ(7,"div",5),t.TgZ(8,"ion-grid"),t.TgZ(9,"ion-row",6),t.TgZ(10,"ion-col",7),t.TgZ(11,"ion-label"),t._uU(12,"Fecha de Intercambio:"),t.qZA(),t.qZA(),t.TgZ(13,"ion-col",8),t._UZ(14,"ion-input",9),t.qZA(),t.qZA(),t.TgZ(15,"ion-row",6),t.TgZ(16,"ion-col"),t.YNc(17,a,2,0,"p",10),t.qZA(),t.qZA(),t.TgZ(18,"ion-row",6),t.TgZ(19,"ion-col",7),t.TgZ(20,"ion-label"),t._uU(21,"Observaciones:"),t.qZA(),t.qZA(),t.TgZ(22,"ion-col",8),t._UZ(23,"ion-textarea",11),t.qZA(),t.qZA(),t.TgZ(24,"ion-row",6),t.TgZ(25,"ion-col",7),t._uU(26," Entregado: "),t.qZA(),t.TgZ(27,"ion-col",8),t.TgZ(28,"ion-item",12),t._uU(29," No"),t._UZ(30,"ion-toggle"),t._uU(31,"Si "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"ion-row",6),t.TgZ(33,"ion-col",7),t.TgZ(34,"ion-label"),t._uU(35,"Agencia:"),t.qZA(),t.qZA(),t.TgZ(36,"ion-col",13),t.YNc(37,m,2,0,"ion-button",14),t.YNc(38,c,2,1,"ion-button",14),t.qZA(),t.qZA(),t.TgZ(39,"ion-row",6),t.TgZ(40,"ion-col"),t.YNc(41,g,2,0,"p",10),t.qZA(),t.qZA(),t.TgZ(42,"ion-row",6),t.TgZ(43,"ion-col",7),t.TgZ(44,"ion-label"),t._uU(45,"Regalo:"),t.qZA(),t.qZA(),t.TgZ(46,"ion-col",13),t.YNc(47,l,2,0,"ion-button",14),t.YNc(48,r,2,1,"ion-button",14),t.qZA(),t.qZA(),t.TgZ(49,"ion-row",6),t.TgZ(50,"ion-col"),t.YNc(51,p,2,0,"p",10),t.qZA(),t.qZA(),t.TgZ(52,"ion-row",6),t.TgZ(53,"ion-col",15),t.TgZ(54,"ion-button",16),t._uU(55," Volver "),t.qZA(),t.qZA(),t.TgZ(56,"ion-col",15),t.TgZ(57,"ion-button",17),t.NdJ("click",function(){return P.CreateExgift()}),t._uU(58," Crear Pedido "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&_&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("formGroup",P.formExchange),t.xp6(11),t.Q6J("ngIf",P.formExchange.get("dateExchange").invalid&&P.formExchange.get("dateExchange").touched),t.xp6(20),t.Q6J("ngIf",null==P.myagency),t.xp6(1),t.Q6J("ngIf",null!=P.myagency),t.xp6(3),t.Q6J("ngIf",P.errorAgency),t.xp6(6),t.Q6J("ngIf",null==P.mygift),t.xp6(1),t.Q6J("ngIf",null!=P.mygift),t.xp6(3),t.Q6J("ngIf",P.errorGift),t.xp6(6),t.Q6J("disabled",P.formExchange.invalid||null==P.myagency||null==P.mygift))},directives:[n.Gu,n.sr,n.wd,n.W2,o._Y,o.JL,o.sg,n.jY,n.Nd,n.wI,n.Q$,n.pK,n.j9,o.JJ,o.u,Z.O5,n.g2,n.Ie,n.ho,n.w,n.YG,n.YI,e.rH],styles:[".body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.button[_ngcontent-%COMP%]{--background: #22388c}ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}ion-input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}"]}),y})()}];let x=(()=>{class y{}return y.\u0275fac=function(_){return new(_||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[e.Bz.forChild(v)],e.Bz]}),y})(),M=(()=>{class y{}return y.\u0275fac=function(_){return new(_||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[Z.ez,o.u5,n.Pc,x,o.UX]]}),y})()},6166:(C,A,i)=>{i.r(A),i.d(A,{ExchangeGifSawPageModule:()=>h});var Z=i(6019),o=i(2651),n=i(8725),e=i(1549),s=i(865);const t=[{path:"",component:e.i}];let T=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[[n.Bz.forChild(t)],n.Bz]}),u})(),h=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[[Z.ez,o.Pc,T]]}),u})()},1549:(C,A,i)=>{i.d(A,{i:()=>T});var Z=i(4762),o=i(865),n=i(2651),e=i(6019);function s(h,u){1&h&&(o.TgZ(0,"ion-col"),o.TgZ(1,"ion-text"),o._uU(2," Si "),o.qZA(),o.qZA())}function t(h,u){1&h&&(o.TgZ(0,"ion-col"),o.TgZ(1,"ion-text"),o._uU(2," No "),o.qZA(),o.qZA())}let T=(()=>{class h{constructor(d){this.modalCtrl=d}ngOnInit(){console.log(this.exchangesaw),this.img=this.exchangesaw.gift.picture,console.log(this.img)}ionViewWillEnter(){return(0,Z.mG)(this,void 0,void 0,function*(){this.img="https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/"+this.exchangesaw.gift.picture})}close(){this.modalCtrl.dismiss()}}return h.\u0275fac=function(d){return new(d||h)(o.Y36(n.IN))},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-exchange-gif-saw"]],inputs:{exchangesaw:"exchangesaw"},decls:51,vars:10,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],[1,"ion-padding"],[1,"center"],[3,"src"],[1,"formulario"],[1,"ion-align-items-center"],["sizeLg","5","sizeXs","6.5"],[4,"ngIf"],["size","12"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"click"]],template:function(d,a){1&d&&(o.TgZ(0,"ion-header",0),o.TgZ(1,"ion-toolbar",1),o.TgZ(2,"ion-title"),o._uU(3," Visualizacion de Pedido "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4,"ion-content",2),o.TgZ(5,"div",3),o.TgZ(6,"div",4),o.TgZ(7,"div",5),o.TgZ(8,"ion-card"),o._UZ(9,"ion-img",6),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"div",7),o.TgZ(12,"ion-grid"),o.TgZ(13,"ion-row",8),o.TgZ(14,"ion-col",9),o.TgZ(15,"ion-label"),o._uU(16,"Fecha de Intercambio: "),o.qZA(),o.qZA(),o.TgZ(17,"div"),o.TgZ(18,"ion-text"),o._uU(19),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"ion-row",8),o.TgZ(21,"ion-col",9),o.TgZ(22,"ion-label"),o._uU(23,"Observaciones: "),o.qZA(),o.qZA(),o.TgZ(24,"div"),o.TgZ(25,"ion-text"),o._uU(26),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"ion-row",8),o.TgZ(28,"ion-col",9),o._uU(29," Entregado: "),o.qZA(),o.TgZ(30,"div"),o.YNc(31,s,3,0,"ion-col",10),o.YNc(32,t,3,0,"ion-col",10),o.qZA(),o.qZA(),o.TgZ(33,"ion-row",8),o.TgZ(34,"ion-col",9),o.TgZ(35,"ion-label"),o._uU(36,"Agencia:"),o.qZA(),o.qZA(),o.TgZ(37,"div"),o.TgZ(38,"ion-text"),o._uU(39),o.qZA(),o.qZA(),o.qZA(),o.TgZ(40,"ion-row",8),o.TgZ(41,"ion-col",9),o.TgZ(42,"ion-label"),o._uU(43,"Puntos:"),o.qZA(),o.qZA(),o.TgZ(44,"div"),o.TgZ(45,"ion-text"),o._uU(46),o.qZA(),o.qZA(),o.qZA(),o.TgZ(47,"ion-row",8),o.TgZ(48,"ion-col",11),o.TgZ(49,"ion-button",12),o.NdJ("click",function(){return a.close()}),o._uU(50," Cerrar Visualizacion "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&d&&(o.Q6J("translucent",!0),o.xp6(4),o.Q6J("fullscreen",!0),o.xp6(5),o.Q6J("src",a.img),o.xp6(10),o.hij(" ",a.exchangesaw.dateExchange," "),o.xp6(7),o.hij(" ",a.exchangesaw.observations," "),o.xp6(5),o.Q6J("ngIf",a.exchangesaw.delivered),o.xp6(1),o.Q6J("ngIf",!a.exchangesaw.delivered),o.xp6(7),o.AsE(" ",a.exchangesaw.agency.myInsuranceCompany.cia_Name," - ",a.exchangesaw.agency.location," "),o.xp6(7),o.hij(" ",a.exchangesaw.gift.points," "))},directives:[n.Gu,n.sr,n.wd,n.W2,n.PM,n.Xz,n.jY,n.Nd,n.wI,n.Q$,n.yW,e.O5,n.YG],styles:[".body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:25%;width:25%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border:.1cm solid black}.formulario[_ngcontent-%COMP%]{margin:1.5rem}.button[_ngcontent-%COMP%]{--background: #22388c}"]}),h})()},9252:(C,A,i)=>{i.r(A),i.d(A,{ExchangeGifUpdatePageModule:()=>h});var Z=i(6019),o=i(2651),n=i(8725),e=i(8667),s=i(865);const t=[{path:"",component:e.s}];let T=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[[n.Bz.forChild(t)],n.Bz]}),u})(),h=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[[Z.ez,o.Pc,T]]}),u})()},3082:(C,A,i)=>{i.r(A),i.d(A,{GifUpdatePageModule:()=>u});var Z=i(6019),o=i(9010),n=i(2651),e=i(8725),s=i(6667),t=i(865);const T=[{path:"",component:s.f}];let h=(()=>{class d{}return d.\u0275fac=function(m){return new(m||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[[e.Bz.forChild(T)],e.Bz]}),d})(),u=(()=>{class d{}return d.\u0275fac=function(m){return new(m||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[[Z.ez,o.u5,n.Pc,h]]}),d})()},6667:(C,A,i)=>{i.d(A,{f:()=>m});var Z=i(4762),o=i(9010),n=i(2651),e=i(865),s=i(4483),t=i(371),T=i(4522),h=i(6019);function u(c,g){1&c&&(e.TgZ(0,"p",24),e._uU(1," *Campo obligatorio. Debe introducir entre 3 y 50 caracteres. "),e.qZA())}function d(c,g){1&c&&(e.TgZ(0,"p",24),e._uU(1," *Campo obligatorio. El valor m\xednimo es 1 punto. "),e.qZA())}function a(c,g){1&c&&(e.TgZ(0,"p",24),e._uU(1," *Campo obligatorio. Debe seleccionar un archivo v\xe1lido para imagen (png, jpg, etc.). "),e.qZA())}let m=(()=>{class c{constructor(l,r,p,f,v){this.modalCtrl=l,this.gs=r,this.fb=p,this.uts=f,this.http=v,this.file=null,this.formGift=this.fb.group({name:["",o.kI.required],points:["",o.kI.required]})}ngOnInit(){return(0,Z.mG)(this,void 0,void 0,function*(){try{this.file=yield this.http.get("https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/"+this.gift.picture,{responseType:"blob"}).subscribe(l=>{this.file=l}),this.formGift=this.fb.group({name:[this.gift.name,[o.kI.required,o.kI.minLength(3),o.kI.maxLength(50)]],points:[this.gift.points,[o.kI.required,o.kI.min(1),o.kI.pattern("[0-9]+")]]})}catch(l){}})}ionViewWillEnter(){return(0,Z.mG)(this,void 0,void 0,function*(){this.img="https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/"+this.gift.picture})}edit(){return(0,Z.mG)(this,void 0,void 0,function*(){if(this.formGift.get("points").value>0){yield this.uts.presentLoading();let l={id:this.gift.id,name:this.formGift.get("name").value,points:this.formGift.get("points").value,available:this.toggle.checked,picture:"",exchangeGifts:this.gift.exchangeGifts};l=yield this.gs.createOrUpdate(l,this.file),l.id?(this.formGift.reset(),this.uts.presentToast("El regalo se ha modificado correctamente.","success","checkmark-circle-outline")):(this.uts.presentToast("Ha habido un error relacionado con subida de la imagen. Int\xe9ntelo m\xe1s tarde.","danger","ban"),l=null),yield this.uts.hideLoading(),l?this.modalCtrl.dismiss({newGift:l}):this.modalCtrl.dismiss()}else this.uts.presentToast("Los puntos deben ser superiores a 0.","danger","ban")})}close(){this.modalCtrl.dismiss()}changeListener(l){try{if(l){let r=l.target.files[0].type.toString();"image/jpeg"==r||"image/png"==r?(this.file=l.target.files[0],this.extension=this.file.type,this.img=URL.createObjectURL(this.file),this.errorMsg=!1):(this.file=null,this.errorMsg=!0)}}catch(r){this.file=null,this.errorMsg=!0}console.log(this.file.type)}}return c.\u0275fac=function(l){return new(l||c)(e.Y36(n.IN),e.Y36(s.R),e.Y36(o.qu),e.Y36(t.f),e.Y36(T.eN))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-gif-update"]],viewQuery:function(l,r){if(1&l&&e.Gf(n.ho,5),2&l){let p;e.iGM(p=e.CRH())&&(r.toggle=p.first)}},inputs:{gift:"gift"},decls:52,vars:9,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],[1,"ion-padding"],[1,"center"],[3,"src"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["sizeSm","1","sizeLg","1"],["sizeSm","11","sizeLg","11"],["type","text","formControlName","name",1,"customInput"],["style","color:red;",4,"ngIf"],["type","number","formControlName","points",1,"customInput"],["sizeSm","9","sizeLg","1.5"],["sizeSm","3","sizeLg","9.5  "],["lines","none"],[3,"checked"],["size","12"],["type","file","accept",".jpg,.jpeg,.png",3,"change"],["size","6"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"click"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],[2,"color","red"]],template:function(l,r){1&l&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title"),e._uU(3," Editar Regalo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"ion-card"),e._UZ(9,"ion-img",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"form",7),e.TgZ(11,"div",8),e.TgZ(12,"ion-grid"),e.TgZ(13,"ion-row",9),e.TgZ(14,"ion-col",10),e.TgZ(15,"ion-label"),e._uU(16,"Nombre:"),e.qZA(),e.qZA(),e.TgZ(17,"ion-col",11),e._UZ(18,"ion-input",12),e.qZA(),e.qZA(),e.TgZ(19,"ion-row",9),e.TgZ(20,"ion-col"),e.YNc(21,u,2,0,"p",13),e.qZA(),e.qZA(),e.TgZ(22,"ion-row",9),e.TgZ(23,"ion-col",10),e.TgZ(24,"ion-label"),e._uU(25,"Puntos:"),e.qZA(),e.qZA(),e.TgZ(26,"ion-col",11),e._UZ(27,"ion-input",14),e.qZA(),e.qZA(),e.TgZ(28,"ion-row",9),e.TgZ(29,"ion-col"),e.YNc(30,d,2,0,"p",13),e.qZA(),e.qZA(),e.TgZ(31,"ion-row",9),e.TgZ(32,"ion-col",15),e._uU(33," Disponible: "),e.qZA(),e.TgZ(34,"ion-col",16),e.TgZ(35,"ion-item",17),e._uU(36," No"),e._UZ(37,"ion-toggle",18),e._uU(38,"Si "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"ion-row",9),e.TgZ(40,"ion-col",19),e.TgZ(41,"ion-input",20),e.NdJ("change",function(f){return r.changeListener(f)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"ion-row",9),e.TgZ(43,"ion-col"),e.YNc(44,a,2,0,"p",13),e.qZA(),e.qZA(),e.TgZ(45,"ion-row",9),e.TgZ(46,"ion-col",21),e.TgZ(47,"ion-button",22),e.NdJ("click",function(){return r.close()}),e._uU(48," Cancelar "),e.qZA(),e.qZA(),e.TgZ(49,"ion-col",21),e.TgZ(50,"ion-button",23),e.NdJ("click",function(){return r.edit()}),e._uU(51," ACTUALIZAR "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&l&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("src",r.img),e.xp6(1),e.Q6J("formGroup",r.formGift),e.xp6(11),e.Q6J("ngIf",r.formGift.get("name").invalid&&r.formGift.get("name").touched),e.xp6(9),e.Q6J("ngIf",r.formGift.get("points").invalid&&r.formGift.get("points").touched),e.xp6(7),e.Q6J("checked",r.gift.available),e.xp6(7),e.Q6J("ngIf",r.errorMsg),e.xp6(6),e.Q6J("disabled",r.formGift.invalid||null==r.file))},directives:[n.Gu,n.sr,n.wd,n.W2,n.PM,n.Xz,o._Y,o.JL,o.sg,n.jY,n.Nd,n.wI,n.Q$,n.pK,n.j9,o.JJ,o.u,h.O5,n.as,n.Ie,n.ho,n.w,n.YG],styles:[".body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:25%;width:25%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border:.1cm solid black}.button[_ngcontent-%COMP%]{--background: #22388c}ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}ion-input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}"]}),c})()},9101:(C,A,i)=>{i.d(A,{F:()=>m});var Z=i(4762),o=i(9010),n=i(2651),e=i(865),s=i(371),t=i(7524),T=i(6019);function h(c,g){1&c&&(e.TgZ(0,"p",21),e._uU(1," *Campo obligatorio. El c\xf3digo zip debe tener una longitud exacta de 3 caracteres. "),e.qZA())}function u(c,g){1&c&&(e.TgZ(0,"p",21),e._uU(1," *La contrase\xf1a debe contener entre 5 y 10 caracteres, incluyendo una min\xfasucla, may\xfascula, n\xfamero y s\xedmbolo. "),e.qZA())}function d(c,g){1&c&&(e.TgZ(0,"p",21),e._uU(1," *Campo obligatorio. Debe introducir un formato de correo v\xe1lido. Longitud de 4 a 50 caracteres. "),e.qZA())}function a(c,g){1&c&&(e.TgZ(0,"p",21),e._uU(1," *Campo obligatorio. Debe introducir entre 3 y 100 caracteres. "),e.qZA())}let m=(()=>{class c{constructor(l,r,p,f){this.modalCtrl=l,this.uts=r,this.userv=p,this.fb=f}ngOnInit(){try{this.formEditUser=this.fb.group({code:[this.user.code,[o.kI.required,o.kI.pattern("[0-9]{1,3}")]],password:[this.user.password,[o.kI.required,o.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[ -/:-@[-`{-~]).{5,10}$")]],email:[this.user.email,[o.kI.required,o.kI.email,o.kI.minLength(4),o.kI.maxLength(50)]],name:[this.user.name,[o.kI.required,o.kI.minLength(3),o.kI.maxLength(100)]]})}catch(l){console.log(l)}}EditUser(){return(0,Z.mG)(this,void 0,void 0,function*(){yield this.uts.presentLoading();let l=null;if(this.formEditUser.get("code").value!=this.user.code&&(l=yield this.userv.getByCode(this.formEditUser.get("code").value)),l)this.uts.presentToast("Ya existe un usuario con este c\xf3digo. Prueba con otro diferente.","danger","ban");else{let r={id:this.user.id,code:this.formEditUser.get("code").value,password:this.formEditUser.get("password").value,administrator:this.toggle.checked,email:this.formEditUser.get("email").value,name:this.formEditUser.get("name").value};r=yield this.userv.createOrUpdate(r),null!=r?this.modalCtrl.dismiss({newUser:r}):(this.modalCtrl.dismiss(),this.uts.presentToast("Ha habido un error al modificar el usuario. Compruebe longitud: c\xf3digo (<=3), contrase\xf1a: (<=10).","danger","ban"))}this.uts.hideLoading()})}close(){this.modalCtrl.dismiss()}}return c.\u0275fac=function(l){return new(l||c)(e.Y36(n.IN),e.Y36(s.f),e.Y36(t.K),e.Y36(o.qu))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-user-update"]],viewQuery:function(l,r){if(1&l&&e.Gf(n.ho,5),2&l){let p;e.iGM(p=e.CRH())&&(r.toggle=p.first)}},inputs:{user:"user"},decls:60,vars:9,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],[1,"body"],[1,"ion-padding",3,"formGroup"],[1,"formulario"],[1,"ion-align-items-center"],["sizeSm","1","sizeLg","1"],["sizeSm","11","sizeLg","11"],["type","number","formControlName","code",1,"customInput"],["style","color:red;",4,"ngIf"],["type","password","formControlName","password",1,"customInput"],["sizeSm","9","sizeLg","1"],["sizeSm","3","sizeLg","11  "],["lines","none"],[3,"checked"],["type","text","formControlName","email",1,"customInput"],["type","text","formControlName","name",1,"customInput"],["size","6"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"click"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],[2,"color","red"]],template:function(l,r){1&l&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title"),e._uU(3," Editar Usuario "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.TgZ(7,"div",5),e.TgZ(8,"ion-grid"),e.TgZ(9,"ion-row",6),e.TgZ(10,"ion-col",7),e.TgZ(11,"ion-label"),e._uU(12,"Code:"),e.qZA(),e.qZA(),e.TgZ(13,"ion-col",8),e._UZ(14,"ion-input",9),e.qZA(),e.qZA(),e.TgZ(15,"ion-row",6),e.TgZ(16,"ion-col"),e.YNc(17,h,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(18,"ion-row",6),e.TgZ(19,"ion-col",7),e.TgZ(20,"ion-label"),e._uU(21,"Contrase\xf1a:"),e.qZA(),e.qZA(),e.TgZ(22,"ion-col",8),e._UZ(23,"ion-input",11),e.qZA(),e.qZA(),e.TgZ(24,"ion-row",6),e.TgZ(25,"ion-col"),e.YNc(26,u,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(27,"ion-row",6),e.TgZ(28,"ion-col",12),e._uU(29," Administrador: "),e.qZA(),e.TgZ(30,"ion-col",13),e.TgZ(31,"ion-item",14),e._uU(32," No"),e._UZ(33,"ion-toggle",15),e._uU(34,"Si "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"ion-row",6),e.TgZ(36,"ion-col",7),e.TgZ(37,"ion-label"),e._uU(38,"Email:"),e.qZA(),e.qZA(),e.TgZ(39,"ion-col",8),e._UZ(40,"ion-input",16),e.qZA(),e.qZA(),e.TgZ(41,"ion-row",6),e.TgZ(42,"ion-col"),e.YNc(43,d,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(44,"ion-row",6),e.TgZ(45,"ion-col",7),e.TgZ(46,"ion-label"),e._uU(47,"Name:"),e.qZA(),e.qZA(),e.TgZ(48,"ion-col",8),e._UZ(49,"ion-input",17),e.qZA(),e.qZA(),e.TgZ(50,"ion-row",6),e.TgZ(51,"ion-col"),e.YNc(52,a,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(53,"ion-row",6),e.TgZ(54,"ion-col",18),e.TgZ(55,"ion-button",19),e.NdJ("click",function(){return r.close()}),e._uU(56," Volver "),e.qZA(),e.qZA(),e.TgZ(57,"ion-col",18),e.TgZ(58,"ion-button",20),e.NdJ("click",function(){return r.EditUser()}),e._uU(59," Editar Usuario "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&l&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("formGroup",r.formEditUser),e.xp6(11),e.Q6J("ngIf",r.formEditUser.get("code").invalid&&r.formEditUser.get("code").touched),e.xp6(9),e.Q6J("ngIf",r.formEditUser.get("password").invalid&&r.formEditUser.get("password").touched),e.xp6(7),e.Q6J("checked",r.user.administrator),e.xp6(10),e.Q6J("ngIf",r.formEditUser.get("email").invalid&&r.formEditUser.get("email").touched),e.xp6(9),e.Q6J("ngIf",r.formEditUser.get("name").invalid&&r.formEditUser.get("name").touched),e.xp6(6),e.Q6J("disabled",r.formEditUser.invalid))},directives:[n.Gu,n.sr,n.wd,n.W2,o._Y,o.JL,o.sg,n.jY,n.Nd,n.wI,n.Q$,n.pK,n.as,o.JJ,o.u,T.O5,n.j9,n.Ie,n.ho,n.w,n.YG],styles:[".body[_ngcontent-%COMP%]{background:#717499;background-size:cover;min-height:100%}.button[_ngcontent-%COMP%]{--background: #22388c}ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}ion-input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442;border-right:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948;border-right:5px solid #42A948}"]}),c})()},8015:(C,A,i)=>{i.d(A,{C:()=>c});var Z=i(4762),o=i(865),n=i(2651),e=i(922),s=i(371),t=i(9574),T=i(9311),h=i(4483),u=i(6019);function d(g,l){1&g&&(o.TgZ(0,"ion-col"),o.TgZ(1,"ion-text"),o._uU(2," Si "),o.qZA(),o.qZA())}function a(g,l){1&g&&(o.TgZ(0,"ion-col"),o.TgZ(1,"ion-text"),o._uU(2," No "),o.qZA(),o.qZA())}function m(g,l){if(1&g){const r=o.EpF();o.TgZ(0,"ion-button",14),o.NdJ("click",function(){o.CHM(r);const f=o.oxw();return f.mensagealerta(f.exchangesaw)}),o._uU(1," Cancelar pedido "),o.qZA()}}let c=(()=>{class g{constructor(r,p,f,v,x,M,y){this.modalCtrl=r,this.exs=p,this.uts=f,this.alerta=v,this.as=x,this.authS=M,this.gs=y}ngOnInit(){this.img=this.exchangesaw.gift.picture,console.log(this.img)}ionViewWillEnter(){return(0,Z.mG)(this,void 0,void 0,function*(){this.img="https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/"+this.exchangesaw.gift.picture})}close(){this.modalCtrl.dismiss()}delete(){return(0,Z.mG)(this,void 0,void 0,function*(){if(this.exchangesaw.delivered)this.uts.presentToast("Error: Est\xe1 intentando eliminar un pedido entregado.","danger","ban");else{yield this.uts.presentLoading();try{let r=yield this.exs.delete(this.exchangesaw);r?(this.authS.agency=yield this.as.getById(this.authS.agency.id),this.gs.added=!0,this.uts.presentToast("Su pedido se ha cancelado correctamente. Puntos a\xf1adidos: "+this.exchangesaw.gift.points+".","success","checkmark-circle-outline")):this.uts.presentToast("Error al eliminar el pedido.","danger."),yield this.uts.hideLoading(),this.modalCtrl.dismiss({result:r})}catch(r){this.uts.presentToast("Error al eliminar el pedido.","danger."),yield this.uts.hideLoading()}}})}mensagealerta(r){return(0,Z.mG)(this,void 0,void 0,function*(){yield(yield this.alerta.create({header:"Eliminar",message:"\xbfDesea eliminar este pedido? Esta acci\xf3n no podr\xe1 deshacerse.",buttons:[{text:"Eliminar",cssClass:"rojo",handler:()=>{this.delete()}},{text:"Cancelar",cssClass:"secondary",handler:f=>{}}]})).present()})}}return g.\u0275fac=function(r){return new(r||g)(o.Y36(n.IN),o.Y36(e.y),o.Y36(s.f),o.Y36(n.Br),o.Y36(t.Y),o.Y36(T.e),o.Y36(h.R))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-exchange-gift-saw"]],inputs:{exchangesaw:"exchangesaw"},decls:42,vars:8,consts:[[3,"translucent"],["color","medium"],[3,"fullscreen"],[1,"body"],[1,"ion-padding"],[1,"center"],[3,"src"],[1,"formulario"],[1,"ion-align-items-center"],["size","4"],[4,"ngIf"],["size","12"],["expand","block","shape","round",1,"button",2,"margin-top","4% !important",3,"click"],["color","danger","expand","block","shape","round","style","margin-top: 4% !important;","class","button",3,"click",4,"ngIf"],["color","danger","expand","block","shape","round",1,"button",2,"margin-top","4% !important",3,"click"]],template:function(r,p){1&r&&(o.TgZ(0,"ion-header",0),o.TgZ(1,"ion-toolbar",1),o.TgZ(2,"ion-title"),o._uU(3," Visualizacion de Pedido "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4,"ion-content",2),o.TgZ(5,"div",3),o.TgZ(6,"div",4),o.TgZ(7,"div",5),o.TgZ(8,"ion-card"),o._UZ(9,"ion-img",6),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"div",7),o.TgZ(12,"ion-grid"),o.TgZ(13,"ion-row",8),o.TgZ(14,"ion-col",9),o.TgZ(15,"ion-text"),o._uU(16,"Fecha de Intercambio:"),o.qZA(),o.qZA(),o.TgZ(17,"ion-col"),o.TgZ(18,"ion-text"),o._uU(19),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"ion-row",8),o.TgZ(21,"ion-col",9),o.TgZ(22,"ion-text"),o._uU(23,"Observaciones:"),o.qZA(),o.qZA(),o.TgZ(24,"div"),o.TgZ(25,"ion-text"),o._uU(26),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"ion-row",8),o.TgZ(28,"ion-col",9),o.TgZ(29,"ion-text"),o._uU(30,"Entregado:"),o.qZA(),o.qZA(),o.TgZ(31,"div"),o.YNc(32,d,3,0,"ion-col",10),o.YNc(33,a,3,0,"ion-col",10),o.qZA(),o.qZA(),o.TgZ(34,"ion-row",8),o.TgZ(35,"ion-col",11),o.TgZ(36,"div"),o.TgZ(37,"ion-button",12),o.NdJ("click",function(){return p.close()}),o._uU(38," Cerrar Visualizacion "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(39,"ion-row",8),o.TgZ(40,"ion-col",11),o.YNc(41,m,2,0,"ion-button",13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r&&(o.Q6J("translucent",!0),o.xp6(4),o.Q6J("fullscreen",!0),o.xp6(5),o.Q6J("src",p.img),o.xp6(10),o.hij(" ",p.exchangesaw.dateExchange," "),o.xp6(7),o.hij(" ",p.exchangesaw.observations," "),o.xp6(6),o.Q6J("ngIf",p.exchangesaw.delivered),o.xp6(1),o.Q6J("ngIf",!p.exchangesaw.delivered),o.xp6(8),o.Q6J("ngIf",!p.exchangesaw.delivered))},directives:[n.Gu,n.sr,n.wd,n.W2,n.PM,n.Xz,n.jY,n.Nd,n.wI,n.yW,u.O5,n.YG],styles:[".body[_ngcontent-%COMP%]{background:#d0e5f0!important;background-size:cover;min-height:100%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:30%;width:30%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border:.1cm solid black}.formulario[_ngcontent-%COMP%]{margin:1.5rem 1rem 1rem}.button[_ngcontent-%COMP%]{--background: #4083cc;color:#fff}"]}),g})()},2112:(C,A,i)=>{i.d(A,{c:()=>d});var Z=i(4762),o=i(9010),n=i(6019),e=i(865),s=i(2651),t=i(9311),T=i(371),h=i(922),u=i(9574);let d=(()=>{class a{constructor(c,g,l,r,p,f,v){this.modalCtrl=c,this.auts=g,this.uts=l,this.exser=r,this.fb=p,this.datePipe=f,this.as=v,this.formGift=this.fb.group({observaciones:["",[o.kI.required]]})}ngOnInit(){console.log(this.giftsaw),console.log(this.auts.agency),this.img=this.giftsaw.picture}ionViewWillEnter(){return(0,Z.mG)(this,void 0,void 0,function*(){this.img="https://res.cloudinary.com/duq0pz1vi/image/upload/v1645471738/"+this.giftsaw.picture})}close(){this.modalCtrl.dismiss()}purchase(){return(0,Z.mG)(this,void 0,void 0,function*(){let g,c=new Date;console.log(c),g=this.datePipe.transform(c,"yyyy-MM-dd");try{if(yield this.uts.presentLoading(),null!=this.giftsaw&&null!=this.auts.agency){console.log(this.auts.agency);let l={dateExchange:g,observations:this.formGift.get("observaciones").value,delivered:!1,agency:this.auts.agency,gift:this.giftsaw};console.log(l);try{if(yield this.exser.createOrUpdate(l)){this.uts.presentToast("Pedido agregada correctamente","success","checkmark-circle-outline");let p=yield this.as.getById(this.auts.agency.id);try{p?this.auts.agency=p:this.uts.presentToast("Ha habido un error al actualizar su agencia.","danger","ban")}catch(f){this.uts.presentToast("Ha habido un error al actualizar su agencia.","danger","ban"),console.log(f)}}else this.uts.presentToast("Error al insertar canje, compruebe los puntos de la agencia y la disponibilidad del regalo.","danger","ban")}catch(r){this.uts.presentToast("Error agregando Pedido","danger","ban")}}}catch(l){yield this.uts.hideLoading,console.log(l)}yield this.uts.hideLoading(),this.modalCtrl.dismiss({nagency:this.auts.agency})})}}return a.\u0275fac=function(c){return new(c||a)(e.Y36(s.IN),e.Y36(t.e),e.Y36(T.f),e.Y36(h.y),e.Y36(o.qu),e.Y36(n.uU),e.Y36(u.Y))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-gift-saw"]],inputs:{giftsaw:"giftsaw"},features:[e._Bn([n.uU])],decls:35,vars:7,consts:[[3,"translucent"],["color","medium"],[3,"fullscreen"],[1,"body"],[1,"ion-padding"],[1,"center"],[3,"src"],[1,"formulario",3,"formGroup"],[1,"ion-align-items-center"],[1,"colum"],["formControlName","observaciones","placeholder","Escriba aqui sus observaciones",1,"customInput"],["size","12"],["expand","block","shape","round",1,"button",2,"margin-top","2% !important",3,"disabled","click"],["expand","block","shape","round",1,"button2",2,"margin-top","2% !important",3,"click"]],template:function(c,g){1&c&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title"),e._uU(3," Canjear Pedido "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"ion-card"),e._UZ(9,"ion-img",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"form",7),e.TgZ(12,"ion-grid"),e.TgZ(13,"ion-row",8),e.TgZ(14,"ion-col",9),e.TgZ(15,"div"),e.TgZ(16,"ion-text",9),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"ion-row",8),e.TgZ(19,"ion-col",9),e.TgZ(20,"div"),e.TgZ(21,"ion-text"),e._uU(22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"ion-row",8),e.TgZ(24,"ion-col",9),e.TgZ(25,"div"),e._UZ(26,"ion-input",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"ion-row",8),e.TgZ(28,"ion-col",11),e.TgZ(29,"ion-button",12),e.NdJ("click",function(){return g.purchase()}),e._uU(30," Realizar Transacci\xf3n "),e.qZA(),e._UZ(31,"p"),e._UZ(32,"p"),e.TgZ(33,"ion-button",13),e.NdJ("click",function(){return g.close()}),e._uU(34," Cancelar Transacci\xf3n "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&c&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("src",g.img),e.xp6(2),e.Q6J("formGroup",g.formGift),e.xp6(6),e.hij(" Nombre : ",g.giftsaw.name," "),e.xp6(5),e.hij(" Precio : ",g.giftsaw.points," Puntos "),e.xp6(7),e.Q6J("disabled",g.auts.agency.points<g.giftsaw.points))},directives:[s.Gu,s.sr,s.wd,s.W2,s.PM,s.Xz,o._Y,o.JL,o.sg,s.jY,s.Nd,s.wI,s.yW,s.pK,s.j9,o.JJ,o.u,s.YG],styles:[".body[_ngcontent-%COMP%]{background:#d0e5f0;background-size:cover;min-height:100%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:25%;width:25%}.body[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border:.1cm solid black}.button[_ngcontent-%COMP%]{--background: #4083cc;color:#fff}.button2[_ngcontent-%COMP%]{--background: #ff8282;color:#fff}.colum[_ngcontent-%COMP%]{border:0px solid!important;text-align:center;border-radius:5px}.colum[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:center}"]}),a})()}}]);