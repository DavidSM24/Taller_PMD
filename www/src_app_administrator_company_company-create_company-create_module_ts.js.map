{"version":3,"file":"src_app_administrator_company_company-create_company-create_module_ts.js","mappings":"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","sources":["./src/app/administrator/company/company-create/company-create-routing.module.ts","./src/app/administrator/company/company-create/company-create.module.ts","./src/app/administrator/company/company-create/company-create.page.ts","./src/app/administrator/company/company-create/company-create.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CompanyCreatePage } from './company-create.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CompanyCreatePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CompanyCreatePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CompanyCreatePageRoutingModule } from './company-create-routing.module';\r\n\r\nimport { CompanyCreatePage } from './company-create.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CompanyCreatePageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [CompanyCreatePage]\r\n})\r\nexport class CompanyCreatePageModule {}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { InsuranceCompany } from 'src/app/models/InsuranceCompany';\r\nimport { InsuranceCompanyService } from 'src/app/services/insurance-company.service';\r\nimport { UtilService } from 'src/app/services/util.service';\r\n\r\n@Component({\r\n  selector: 'app-company-create',\r\n  templateUrl: './company-create.page.html',\r\n  styleUrls: ['./company-create.page.scss'],\r\n})\r\nexport class CompanyCreatePage implements OnInit {\r\n\r\n  public formCompany: FormGroup;\r\n\r\n  constructor(\r\n    private cs: InsuranceCompanyService,\r\n    private fb: FormBuilder,\r\n    private uts:UtilService,\r\n    private modalCtrl: ModalController) {\r\n\r\n     }\r\n\r\n  ngOnInit() {\r\n    this.formCompany = this.fb.group({\r\n      name: [\"\", [Validators.required,Validators.minLength(3),Validators.maxLength(50)]]\r\n    });\r\n  }\r\n\r\n  async create(){\r\n\r\n    await this.uts.presentLoading();\r\n    let ic:InsuranceCompany[]=await this.cs.getByCiaName(this.formCompany.get(\"name\").value);\r\n    await this.uts.hideLoading();\r\n\r\n    if(ic.length>0){\r\n      this.uts.presentToast('Ya existe una compañia con este nombre, prueba con otro diferente.','danger','ban');\r\n    }\r\n    else{\r\n      await this.uts.presentLoading();\r\n\r\n      let editCompany:InsuranceCompany = {\r\n        cia_Name: this.formCompany.get(\"name\").value\r\n      }\r\n\r\n      editCompany=await this.cs.createOrUpdate(editCompany);\r\n      if(editCompany){\r\n        this.formCompany.reset();\r\n        this.cs.added=true;\r\n        this.uts.presentToast('La compañía se ha creado correctamente.','success',\"checkmark-circle-outline\");\r\n      }\r\n      else{\r\n        this.uts.presentToast('Un error ha surgido al intentar crear la compañía.','danger','ban');\r\n        editCompany=null;\r\n      }\r\n\r\n      await this.uts.hideLoading();\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n}\r\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>\\r\\n      Crear Compañía de Usuarios\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n\\r\\n  <div class=\\\"body\\\">\\r\\n\\r\\n    <form [formGroup]=\\\"formCompany\\\" class=\\\"ion-padding\\\">\\r\\n      <div class=\\\"formulario\\\">\\r\\n      <ion-grid>\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col sizeSm=\\\"2\\\" sizeLg=\\\"2\\\">\\r\\n            <ion-label>Nombre CIA:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col sizeSm=\\\"10\\\" sizeLg=\\\"10\\\">\\r\\n            <ion-input type=\\\"text\\\" class=\\\"customInput\\\" formControlName=\\\"name\\\"></ion-input>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n          <ion-col>\\r\\n            <p style=\\\"color:red;\\\" *ngIf=\\\"this.formCompany.get('name').invalid&&formCompany.get('name').touched\\\">\\r\\n              *Campo obligatorio. Debe introducir entre 3 y 50 caracteres.\\r\\n            </p>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n\\r\\n          <ion-col size=\\\"6\\\">\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" style=\\\"margin-top: 2% !important;\\\" routerLink=\\\"/tab-administrator/company/list\\\" class=\\\"button\\\">\\r\\n              Volver\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"6\\\">\\r\\n            <ion-button expand=\\\"block\\\" shape=\\\"round\\\" style=\\\"margin-top: 2% !important;\\\" (click)=\\\"create()\\\" class=\\\"button\\\" [disabled]=\\\"this.formCompany.invalid\\\">\\r\\n              Crear\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </div>\\r\\n    </form>\\r\\n\\r\\n</div>\\r\\n</ion-content>\\r\\n\\r\\n\";"],"names":[],"sourceRoot":"webpack:///"}