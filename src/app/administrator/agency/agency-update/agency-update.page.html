<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>
      Editar Agencia
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="body">
    <form [formGroup]="formAgency" class="ion-padding">
      <div class="formulario">
      <ion-grid>

        <ion-row class="ion-align-items-center">
          <ion-col size="1.3">
            <ion-label>Código Zip:</ion-label>
          </ion-col>
          <ion-col size="10.7">
            <ion-input type="number" class="customInput" formControlName="zipCode"></ion-input>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col>
            <p style="color:red;" *ngIf="this.formAgency.get('zipCode').invalid&&formAgency.get('zipCode').touched">
              *Campo obligatorio. Debe introducir entre 2 y 21 caracteres.
            </p>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col size="1.3">
            <ion-label>Dirección:</ion-label>
          </ion-col>
          <ion-col size="10.7">
            <ion-input class="customInput" type="text" formControlName="address"></ion-input>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col>
            <p style="color:red;" *ngIf="this.formAgency.get('address').invalid&&formAgency.get('address').touched">
              *Campo obligatorio. Debe introducir entre 4 y 50 caracteres.
            </p>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col size="1.3">
            <ion-label>Localidad:</ion-label>
          </ion-col>
          <ion-col size="10.7">
            <ion-input class="customInput" type="text" formControlName="location"></ion-input>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col>
            <p style="color:red;" *ngIf="this.formAgency.get('location').invalid&&formAgency.get('location').touched">
              *Campo obligatorio. Debe introducir entre 4 y 50 caracteres.
            </p>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col size="1.3">
            <ion-label>Número de Teléfono:</ion-label>
          </ion-col>
          <ion-col size="10.7">
            <ion-input class="customInput" type="number" formControlName="phoneNumber"></ion-input>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col>
            <p style="color:red;" *ngIf="this.formAgency.get('phoneNumber').invalid&&formAgency.get('phoneNumber').touched">
              *Campo obligatorio. Debe introducir un número de telefono de 9 dígitos exactos.
            </p>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col size="1.3">
            <ion-label>Puntos:</ion-label>
          </ion-col>
          <ion-col size="10.7" >
            <ion-input Disabled class="customInput" type="number" formControlName="points"></ion-input>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col>
            <p style="color:red;" *ngIf="this.formAgency.get('points').invalid&&formAgency.get('points').touched">
              *Campo obligatorio.
            </p>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col size="rem">
            Activa:
          </ion-col>
          <ion-col>
            <ion-item  lines="none">
              No<ion-toggle [checked]="this.agency.active"></ion-toggle>Si
           </ion-item>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col size="rem">
            <ion-label>Compañía de Seguros:</ion-label>
          </ion-col>

          <ion-col size="rem">

            <ion-button expand="block" shape="round" (click)="showPicker()" >
              {{this.insurance.cia_Name}}
            </ion-button>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col>
            <p style="color:red;" *ngIf="this.errorCompany">
              *Campo obligatorio. Debe seleccionar una compañía de seguros.
            </p>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center">
          <ion-col size="6">
            <ion-button expand="block" shape="round" class="button" (click)="close()">
              Cancelar
            </ion-button>
          </ion-col>

          <ion-col size="6">
            <ion-button (click)="edit()" expand="block" shape="round" style="margin-top: 2% !important;" class="button" [disabled]="this.formAgency.invalid||this.insurance==null">
              Actualizar
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    </form>

</div>
</ion-content>
