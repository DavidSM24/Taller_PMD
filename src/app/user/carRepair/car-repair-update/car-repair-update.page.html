<ion-header [translucent]="true">
  <ion-toolbar color="medium">
    <ion-title>Editar Reparación</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content   [fullscreen]="true">
  <div  class="body">
    <form [formGroup]="formCarRepair" class="ion-padding">
      <div  class="formulario">
        <ion-grid color="medium">

          <ion-row class="ion-align-items-center" style="margin-left:-2% !important;">

            <ion-col >

              <ion-item button="true" id="open-date-input">
                <ion-text>Fecha de Alta:   {{ spanishDateOrder }}</ion-text>
                <ion-popover trigger="open-date-input" show-backdrop="false">
                  <ng-template>
                    <ion-datetime color="secondary" #popoverDatetime [value]="stringDateOrder"
                      (ionChange)="changeDateRepair(popoverDatetime.value)">
                      <ion-buttons slot="buttons">
                        <ion-button shape="round" class="button" (click)="confirm()">Aceptar</ion-button>
                        <ion-button shape="round" class="button" (click)="reset()">Cancelar</ion-button>
                      </ion-buttons>
                    </ion-datetime>
                  </ng-template>
                </ion-popover>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Matrícula</ion-label>
            </ion-col>
            <ion-col sizeSm="11" sizeLg="10">
              <ion-input class="customInput" type="text" style="text-transform: uppercase" formControlName="carPlate" required="true"></ion-input>
              <span class="invalid" *ngIf="this.formCarRepair.get('carPlate').invalid&&formCarRepair.get('carPlate').touched">
                *Debe rellenar este campo. Introduzca entre 4 y 10 caracteres.
              </span>
            </ion-col>

          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Modelo</ion-label>
            </ion-col>
            <ion-col sizeSm="5" sizeLg="10">
              <ion-input class="customInput" type="text" formControlName="model" required="true"></ion-input>
              <span class="invalid" *ngIf="this.formCarRepair.get('model').invalid&&formCarRepair.get('model').touched">
                *Debe rellenar este campo. Introduzca entre 2 y 50 caracteres.
              </span>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Marca</ion-label>
            </ion-col>
            <ion-col sizeSm="5" sizeLg="10">
              <ion-input class="customInput" type="text" formControlName="brandCar" required="true"></ion-input>
              <span class="invalid" *ngIf="this.formCarRepair.get('brandCar').invalid&&formCarRepair.get('brandCar').touched">
                *Debe rellenar este campo. Introduzca entre 2 y 50 caracteres.
              </span>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Cliente</ion-label>
            </ion-col>
            <ion-col sizeSm="10" sizeLg="10">
              <ion-input class="customInput" type="text" formControlName="clienteName" required="true"></ion-input>
              <span class="invalid" *ngIf="this.formCarRepair.get('clienteName').invalid&&formCarRepair.get('clienteName').touched">
                *Debe rellenar este campo. Introduzca entre 2 y 50 caracteres.
              </span>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="7" sizeLg="2">
              Reparado
            </ion-col>
            <ion-col sizeSm="7" sizeLg="4">
              <div title="Sin Reparar. Espere asignación de administradores.">
                <ion-icon *ngIf="!carRepair.repaired" name="construct" style="pointer-events: none;zoom:1.7;color: red;"></ion-icon>
              </div>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">

            <ion-col size="6">
              <ion-button [disabled]="this.formCarRepair.invalid" expand="block" shape="round" style="margin-top: 2% !important;" (click)="editCarRepair()"
                class="button">
                Guardar
              </ion-button>
            </ion-col>

            <ion-col size="6">
              <ion-button expand="block" shape="round" style="margin-top: 2% !important;" (click)="closeModal()"
                class="button2">
                Cancelar
              </ion-button>
            </ion-col>

          </ion-row>
        </ion-grid>
      </div>
    </form>
  </div>
</ion-content>
