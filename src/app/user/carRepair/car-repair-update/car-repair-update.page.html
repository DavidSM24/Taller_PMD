<ion-header [translucent]="true">
  <ion-toolbar color="medium">
    <ion-title>Editar Reparación</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content   [fullscreen]="true">
  <div  class="body">
    <form [formGroup]="formCarRepair" class="ion-padding">
      <div  class="formulario">
        <ion-grid color="medium">
          <ion-row class="ion-align-items-center">

            <ion-col sizeSm="3.2" sizeLg="3.2">

              <ion-item button="true" id="open-date-input">
                <ion-label>Fecha de alta:</ion-label>
                <ion-text slot="end">{{ spanishDateOrder }}</ion-text>
                <ion-popover trigger="open-date-input" show-backdrop="false">
                  <ng-template>
                    <ion-datetime color="secondary" #popoverDatetime [value]="stringDateOrder"
                      (ionChange)="changeDateRepair(popoverDatetime.value)">
                      <ion-buttons slot="buttons">
                        <ion-button shape="round" class="button" (click)="confirm()">Aceptar</ion-button>
                        <ion-button shape="round" class="button" (click)="reset()">Cancelar</ion-button>
                      </ion-buttons>
                    </ion-datetime>
                  </ng-template>
                </ion-popover>
              </ion-item>
            </ion-col>
            
            
          </ion-row>
          <ion-row>
            <ion-col *ngIf="this.carRepair.dateRepair!=null"  sizeSm="2" sizeLg="2">
              <ion-label>Fecha de reparación</ion-label>
            </ion-col>
            <ion-col *ngIf="this.carRepair.dateRepair!=null" sizeSm="4" sizeLg="4">
              <ion-input class="customInput" Disabled type="text" formControlName="spanishDateRepair"></ion-input>
            </ion-col>
          </ion-row>




          <ion-row *ngIf="this.carRepair.operation>0" class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Operación</ion-label>
            </ion-col>
            <ion-col sizeSm="10" sizeLg="10">
              <ion-input class="customInput" Disabled  type="number" min="0" max="99999" inputmode="numeric" class="customInput"
                formControlName="operation"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Matrícula</ion-label>
            </ion-col>
            <ion-col sizeSm="11" sizeLg="10">
              <ion-input class="customInput" type="text" formControlName="carPlate"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Modelo</ion-label>
            </ion-col>
            <ion-col sizeSm="5" sizeLg="10">
              <ion-input class="customInput"  type="text" formControlName="model"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Marca</ion-label>
            </ion-col>
            <ion-col sizeSm="5" sizeLg="10">
              <ion-input class="customInput" type="text" formControlName="brandCar"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Cliente</ion-label>
            </ion-col>
            <ion-col sizeSm="10" sizeLg="10">
              <ion-input class="customInput" type="text" formControlName="clienteName"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="this.carRepair.nor>0" class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>NOR</ion-label>
            </ion-col>
            <ion-col sizeSm="10" sizeLg="10">
              <ion-input class="customInput" Disabled type="number" formControlName="nor"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="this.carRepair.amount>0" class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Coste</ion-label>
            </ion-col>
            <ion-col sizeSm="10" sizeLg="10">
              <ion-input class="customInput" Disabled type="number" formControlName="amount"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="this.carRepair.asigPoints>0" class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Puntos</ion-label>
            </ion-col>
            <ion-col sizeSm="10" sizeLg="10">
              <ion-input class="customInput" Disabled type="number" formControlName="asigPoints"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row  class="ion-align-items-center">
            <ion-col sizeSm="2" sizeLg="2">
              <ion-label>Agencia</ion-label>
            </ion-col>
            <ion-col sizeSm="10" sizeLg="10">
              <ion-input class="customInput" Disabled type="text" formControlName="myAgency"></ion-input>
            </ion-col>
          </ion-row>


          <ion-row class="ion-align-items-center">
            <ion-col sizeSm="7" sizeLg="2">
              Reparado
            </ion-col>
            <ion-col sizeSm="7" sizeLg="4">
              <ion-icon *ngIf="carRepair.repaired" name="car" style="zoom:1.7;color: #39ff14;"></ion-icon>
              <ion-icon *ngIf="!carRepair.repaired" name="construct" style="zoom:1.7;color: red;"></ion-icon>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center">
            <ion-col size="6">
              <ion-button expand="block" shape="round" style="margin-top: 2% !important;" (click)="closeModal()"
                class="button">
                Cancelar
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button expand="block" shape="round" style="margin-top: 2% !important;" (click)="editCarRepair()"
                class="button">
                Guardar
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </form>
  </div>
</ion-content>